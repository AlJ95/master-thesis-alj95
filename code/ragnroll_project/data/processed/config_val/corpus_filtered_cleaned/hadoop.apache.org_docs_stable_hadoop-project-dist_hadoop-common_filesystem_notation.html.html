<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 3.4.1 &#x2013; Notation</title>
    
    
        <meta name="Date-Revision-yyyymmdd" content="20241009" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                     <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                   &nbsp;| Last Published: 2024-10-09
              &nbsp;| Version: 3.4.1
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>Common</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  
                  
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  
                  
                  
                  
                  
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  
                  
                  
                  
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  
                  
                  
                  
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
<h1>Notation</h1>
<ul>


</ul></li>

</ul></li></ul></li></ul>

<p>A formal notation such as <a class="externalLink" href="http://www.open-std.org/jtc1/sc22/open/n3187.pdf">The Z Notation</a> would be the strictest way to define Hadoop FileSystem behavior, and could even be used to prove some axioms.</p>
<p>However, it has a number of practical flaws:</p>
<ol style="list-style-type: decimal">

<li>

<p>Such notations are not as widely used as they should be, so the broader software development community is not going to have practical experience of it.</p>
</li>
<li>

<p>It&#x2019;s very hard to work with without dropping into tools such as LaTeX <i>and</i> add-on libraries.</p>
</li>
<li>

<p>Such notations are difficult to understand, even for experts.</p>
</li>
</ol>
<p>Given that the target audience of this specification is FileSystem developers, formal notations are not appropriate. Instead, broad comprehensibility, ease of maintenance, and ease of deriving tests take priority over mathematically-pure formal notation.</p><section><section>
<h3><a name="Mathematics_Symbols_in_this_document"></a>Mathematics Symbols in this document</h3>
<p>This document does use a subset of <a class="externalLink" href="http://staff.washington.edu/jon/z/glossary.html">the notation in the Z syntax</a>, but in an ASCII form and the use of Python list notation for manipulating lists and sets.</p>
<ul>

<li><code>iff</code> : <code>iff</code> If and only if</li>
<li><code>&#x21d2;</code> : <code>implies</code></li>
<li><code>&#x2192;</code> : <code>--&gt;</code> total function</li>
<li><code>&#x219b;</code> : <code>-&gt;</code> partial function</li>
<li>

<p><code>&#x2229;</code> : <code>^</code>: Set Intersection</p>
</li>
<li><code>&#x222a;</code> : <code>+</code>: Set Union</li>
<li><code>\</code> : <code>-</code>: Set Difference</li>
<li>

<p><code>&#x2203;</code> : <code>exists</code> Exists predicate</p>
</li>
<li><code>&#x2200;</code> : <code>forall</code>: For all predicate</li>
<li><code>=</code> : <code>==</code> Equals operator</li>
<li><code>&#x2260;</code> : <code>!=</code> operator. In Java <code>z &#x2260; y</code> is written as <code>!( z.equals(y))</code> for all non-simple datatypes</li>
<li><code>&#x2261;</code> : <code>equivalent-to</code> equivalence operator. This is stricter than equals.</li>
<li><code>&#x2205;</code> : <code>{}</code> Empty Set. <code>&#x2205; &#x2261; {}</code></li>
<li><code>&#x2248;</code> : <code>approximately-equal-to</code> operator</li>
<li><code>&#xac;</code> : <code>not</code> Not operator. In Java, <code>!</code></li>
<li><code>&#x2204;</code> : <code>does-not-exist</code>: Does not exist predicate. Equivalent to <code>not exists</code></li>
<li><code>&#x2227;</code> : <code>and</code> : local and operator. In Java , <code>&amp;&amp;</code></li>
<li><code>&#x2228;</code> : <code>or</code> : local and operator. In Java, <code>||</code></li>
<li><code>&#x2208;</code> : <code>in</code> : element of</li>
<li><code>&#x2209;</code> : <code>not in</code> : not an element of</li>
<li><code>&#x2286;</code> : <code>subset-or-equal-to</code> the subset or equality condition</li>
<li><code>&#x2282;</code> : <code>subset-of</code> the proper subset condition</li>
<li><code>| p |</code> : <code>len(p)</code> the size of a variable</li>
<li>

<p><code>:=</code> : <code>=</code> :</p>
</li>
<li>

<p>`` : <code>#</code> :  Python-style comments</p>
</li>
<li>

<p><code>happens-before</code> : <code>happens-before</code> : Lamport&#x2019;s ordering relationship as defined in <a class="externalLink" href="http://research.microsoft.com/en-us/um/people/lamport/pubs/time-clocks.pdf">Time, Clocks and the Ordering of Events in a Distributed System</a></p>
</li>
</ul><section>
<h4><a name="Sets.2C__Lists.2C_Maps.2C_and_Strings"></a>Sets,  Lists, Maps, and Strings</h4>
<p>The <a class="externalLink" href="http://docs.python.org/2/tutorial/datastructures.html">python data structures</a> are used as the basis for this syntax as it is both plain ASCII and well-known.</p><section>
<h5><a name="Lists"></a>Lists</h5>
<ul>

<li>A list <i>L</i> is an ordered sequence of elements <code>[e1, e2, ... e(n)]</code></li>
<li>The size of a list <code>len(L)</code> is the number of elements in a list.</li>
<li>Items can be addressed by a 0-based index  <code>e1 == L[0]</code></li>
<li>Python slicing operators can address subsets of a list <code>L[0:3] == [e1,e2,e3]</code>, <code>L[:-1] == [e1, ... e(n-1)]</code></li>
<li>Lists can be concatenated <code>L' = L + [ e3 ]</code></li>
<li>Lists can have entries removed <code>L' = L - [ e2, e1 ]</code>. This is different from Python&#x2019;s <code>del</code> operation, which operates on the list in place.</li>
<li>The membership predicate <code>in</code> returns true iff an element is a member of a List: <code>e2 in L</code></li>
<li>List comprehensions can create new lists: <code>L' = [ x for x in L where x &lt; 5]</code></li>
<li>for a list <code>L</code>, <code>len(L)</code> returns the number of elements.</li>
</ul></section><section>
<h5><a name="Sets"></a>Sets</h5>
<p>Sets are an extension of the List notation, adding the restrictions that there can be no duplicate entries in the set, and there is no defined order.</p>
<ul>

<li>A set is an unordered collection of items surrounded by <code>{</code> and <code>}</code> braces.</li>
<li>When declaring one, the python constructor <code>{}</code> is used. This is different from Python, which uses the function <code>set([list])</code>. Here the assumption is that the difference between a set and a dictionary can be determined from the contents.</li>
<li>The empty set <code>{}</code> has no elements.</li>
<li>All the usual set concepts apply.</li>
<li>The membership predicate is <code>in</code>.</li>
<li>Set comprehension uses the Python list comprehension. <code>S' = {s for s in S where len(s)==2}</code></li>
<li>for a set <i>s</i>, <code>len(s)</code> returns the number of elements.</li>
<li>The <code>-</code> operator returns a new set excluding all items listed in the righthand set of the operator.</li>
</ul></section><section>
<h5><a name="Maps"></a>Maps</h5>
<p>Maps resemble Python dictionaries; {&#x201c;key&#x201d;:value, &#x201c;key2&#x201d;,value2}</p>
<ul>

<li><code>keys(Map)</code> represents the set of keys in a map.</li>
<li><code>k in Map</code> holds iff <code>k in keys(Map)</code></li>
<li>The empty map is written <code>{:}</code></li>
<li>The <code>-</code> operator returns a new map which excludes the entry with the key specified.</li>
<li><code>len(Map)</code> returns the number of entries in the map.</li>
</ul></section><section>
<h5><a name="Strings"></a>Strings</h5>
<p>Strings are lists of characters represented in double quotes. e.g. <code>&quot;abc&quot;</code></p>

<div class="source">
<div class="source">
<pre>&quot;abc&quot; == ['a','b','c']
</pre></div></div>
</section></section><section>
<h4><a name="State_Immutability"></a>State Immutability</h4>
<p>All system state declarations are immutable.</p>
<p>The suffix &#x201c;&#x2019;&#x201d; (single quote) is used as the convention to indicate the state of the system after a mutating operation:</p>

<div class="source">
<div class="source">
<pre>L' = L + ['d','e']
</pre></div></div>
</section><section>
<h4><a name="Function_Specifications"></a>Function Specifications</h4>
<p>A function is defined as a set of preconditions and a set of postconditions, where the postconditions define the new state of the system and the return value from the function.</p></section></section><section>
<h3><a name="Exceptions"></a>Exceptions</h3>
<p>In classic specification languages, the preconditions define the predicates that MUST be satisfied else some failure condition is raised.</p>
<p>For Hadoop, we need to be able to specify what failure condition results if a specification is not met (usually what exception is to be raised).</p>
<p>The notation <code>raise &lt;exception-name&gt;</code> is used to indicate that an exception is to be raised.</p>
<p>It can be used in the if-then-else sequence to define an action if a precondition is not met.</p>
<p>Example:</p>

<div class="source">
<div class="source">
<pre>if not exists(FS, Path) : raise IOException
</pre></div></div>

<p>If implementations may raise any one of a set of exceptions, this is denoted by providing a set of exceptions:</p>

<div class="source">
<div class="source">
<pre>if not exists(FS, Path) : raise {FileNotFoundException, IOException}
</pre></div></div>

<p>If a set of exceptions is provided, the earlier elements of the set are preferred to the later entries, on the basis that they aid diagnosis of problems.</p>
<p>We also need to distinguish predicates that MUST be satisfied, along with those that SHOULD be met. For this reason a function specification MAY include a section in the preconditions marked &#x2018;Should:&#x2019; All predicates declared in this section SHOULD be met, and if there is an entry in that section which specifies a stricter outcome, it SHOULD BE preferred. Here is an example of a should-precondition:</p>
<p>Should:</p>

<div class="source">
<div class="source">
<pre>if not exists(FS, Path) : raise FileNotFoundException
</pre></div></div>
</section><section>
<h3><a name="Conditions"></a>Conditions</h3>
<p>There are further conditions used in precondition and postcondition declarations.</p><section>
<h4><a name="supported.28instance.2C_method.29"></a><code>supported(instance, method)</code></h4>
<p>This condition declares that a subclass implements the named method -some subclasses of the verious FileSystem classes do not, and instead raise <code>UnsupportedOperation</code></p>
<p>As an example, one precondition of <code>FSDataInputStream.seek</code> is that the implementation must support <code>Seekable.seek</code> :</p>

<div class="source">
<div class="source">
<pre>supported(FDIS, Seekable.seek) else raise UnsupportedOperation
</pre></div></div></section></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2008-2024
              Apache Software Foundation
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
