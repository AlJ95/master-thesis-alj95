<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: dblink_open</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/contrib-dblink-open.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="dblink_open" />
  <meta property="og:description" content="dblink_open dblink_open — opens a cursor in a remote database Synopsis dblink_open(text cursorname, text sql [, bool fail_on_error]) returns text …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/contrib-dblink-open.html" title="PostgreSQL 17 - dblink_open" >Current</a>
                          (<a href="/docs/17/contrib-dblink-open.html" title="PostgreSQL 17 - dblink_open" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/contrib-dblink-open.html" title="PostgreSQL 16 - dblink_open" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/contrib-dblink-open.html" title="PostgreSQL 15 - dblink_open" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/contrib-dblink-open.html" title="PostgreSQL 14 - dblink_open" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/contrib-dblink-open.html" title="PostgreSQL 13 - dblink_open" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/contrib-dblink-open.html" title="PostgreSQL devel - dblink_open"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/contrib-dblink-open.html" title="PostgreSQL 12 - dblink_open"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/contrib-dblink-open.html" title="PostgreSQL 11 - dblink_open"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/contrib-dblink-open.html" title="PostgreSQL 10 - dblink_open"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/contrib-dblink-open.html" title="PostgreSQL 9.6 - dblink_open"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/contrib-dblink-open.html" title="PostgreSQL 9.5 - dblink_open"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/contrib-dblink-open.html" title="PostgreSQL 9.4 - dblink_open"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/contrib-dblink-open.html" title="PostgreSQL 9.3 - dblink_open"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/contrib-dblink-open.html" title="PostgreSQL 9.2 - dblink_open"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/contrib-dblink-open.html" title="PostgreSQL 9.1 - dblink_open"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/contrib-dblink-open.html" title="PostgreSQL 9.0 - dblink_open"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/contrib-dblink-open.html" title="PostgreSQL 8.4 - dblink_open"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/contrib-dblink-open.html" title="PostgreSQL 8.3 - dblink_open"  rel="nofollow">8.3</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">dblink_open</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="contrib-dblink-exec.html" title="dblink_exec">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="dblink.html" title="F.10.&nbsp;dblink">Up</a></td>
      <th width="60%" align="center">F.10.&nbsp;dblink</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="contrib-dblink-fetch.html" title="dblink_fetch">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="refentry" id="CONTRIB-DBLINK-OPEN">
  <div class="titlepage"></div><a id="id-1.11.7.19.10.1" class="indexterm" name="id-1.11.7.19.10.1"></a>
  <div class="refnamediv">
    <h2><span class="refentrytitle">dblink_open</span></h2>
    <p>dblink_open — opens a cursor in a remote database</p>
  </div>
  <div class="refsynopsisdiv">
    <h2>Synopsis</h2>
    <pre class="synopsis">
dblink_open(text cursorname, text sql [, bool fail_on_error]) returns text
dblink_open(text connname, text cursorname, text sql [, bool fail_on_error]) returns text
</pre>
  </div>
  <div class="refsect1" id="id-1.11.7.19.10.5">
    <h2>Description</h2>
    <p><code class="function">dblink_open()</code> opens a cursor in a remote database. The cursor can subsequently be manipulated with <code class="function">dblink_fetch()</code> and <code class="function">dblink_close()</code>.</p>
  </div>
  <div class="refsect1" id="id-1.11.7.19.10.6">
    <h2>Arguments</h2>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><em class="parameter"><code>connname</code></em></span></dt>
        <dd>
          <p>Name of the connection to use; omit this parameter to use the unnamed connection.</p>
        </dd>
        <dt><span class="term"><em class="parameter"><code>cursorname</code></em></span></dt>
        <dd>
          <p>The name to assign to this cursor.</p>
        </dd>
        <dt><span class="term"><em class="parameter"><code>sql</code></em></span></dt>
        <dd>
          <p>The <code class="command">SELECT</code> statement that you wish to execute in the remote database, for example <code class="literal">select * from pg_class</code>.</p>
        </dd>
        <dt><span class="term"><em class="parameter"><code>fail_on_error</code></em></span></dt>
        <dd>
          <p>If true (the default when omitted) then an error thrown on the remote side of the connection causes an error to also be thrown locally. If false, the remote error is locally reported as a NOTICE, and the function's return value is set to <code class="literal">ERROR</code>.</p>
        </dd>
      </dl>
    </div>
  </div>
  <div class="refsect1" id="id-1.11.7.19.10.7">
    <h2>Return Value</h2>
    <p>Returns status, either <code class="literal">OK</code> or <code class="literal">ERROR</code>.</p>
  </div>
  <div class="refsect1" id="id-1.11.7.19.10.8">
    <h2>Notes</h2>
    <p>Since a cursor can only persist within a transaction, <code class="function">dblink_open</code> starts an explicit transaction block (<code class="command">BEGIN</code>) on the remote side, if the remote side was not already within a transaction. This transaction will be closed again when the matching <code class="function">dblink_close</code> is executed. Note that if you use <code class="function">dblink_exec</code> to change data between <code class="function">dblink_open</code> and <code class="function">dblink_close</code>, and then an error occurs or you use <code class="function">dblink_disconnect</code> before <code class="function">dblink_close</code>, your change <span class="emphasis"><em>will be lost</em></span> because the transaction will be aborted.</p>
  </div>
  <div class="refsect1" id="id-1.11.7.19.10.9">
    <h2>Examples</h2>
    <pre class="screen">
SELECT dblink_connect('dbname=postgres options=-csearch_path=');
 dblink_connect
----------------
 OK
(1 row)

SELECT dblink_open('foo', 'select proname, prosrc from pg_proc');
 dblink_open
-------------
 OK
(1 row)
</pre>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="contrib-dblink-exec.html" title="dblink_exec">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="dblink.html" title="F.10.&nbsp;dblink">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="contrib-dblink-fetch.html" title="dblink_fetch">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">dblink_exec&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;dblink_fetch</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/contrib-dblink-open.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
