<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: REFRESH MATERIALIZED VIEW</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/sql-refreshmaterializedview.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="REFRESH MATERIALIZED VIEW" />
  <meta property="og:description" content="REFRESH MATERIALIZED VIEW REFRESH MATERIALIZED VIEW — replace the contents of a materialized view Synopsis REFRESH MATERIALIZED VIEW [ CONCURRENTLY …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/sql-refreshmaterializedview.html" title="PostgreSQL 17 - REFRESH MATERIALIZED VIEW" >Current</a>
                          (<a href="/docs/17/sql-refreshmaterializedview.html" title="PostgreSQL 17 - REFRESH MATERIALIZED VIEW" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/sql-refreshmaterializedview.html" title="PostgreSQL 16 - REFRESH MATERIALIZED VIEW" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/sql-refreshmaterializedview.html" title="PostgreSQL 15 - REFRESH MATERIALIZED VIEW" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/sql-refreshmaterializedview.html" title="PostgreSQL 14 - REFRESH MATERIALIZED VIEW" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/sql-refreshmaterializedview.html" title="PostgreSQL 13 - REFRESH MATERIALIZED VIEW" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/sql-refreshmaterializedview.html" title="PostgreSQL devel - REFRESH MATERIALIZED VIEW"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/sql-refreshmaterializedview.html" title="PostgreSQL 12 - REFRESH MATERIALIZED VIEW"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/sql-refreshmaterializedview.html" title="PostgreSQL 11 - REFRESH MATERIALIZED VIEW"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/sql-refreshmaterializedview.html" title="PostgreSQL 10 - REFRESH MATERIALIZED VIEW"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/sql-refreshmaterializedview.html" title="PostgreSQL 9.6 - REFRESH MATERIALIZED VIEW"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/sql-refreshmaterializedview.html" title="PostgreSQL 9.5 - REFRESH MATERIALIZED VIEW"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/sql-refreshmaterializedview.html" title="PostgreSQL 9.4 - REFRESH MATERIALIZED VIEW"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/sql-refreshmaterializedview.html" title="PostgreSQL 9.3 - REFRESH MATERIALIZED VIEW"  rel="nofollow">9.3</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">REFRESH MATERIALIZED VIEW</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="sql-reassign-owned.html" title="REASSIGN OWNED">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <th width="60%" align="center">SQL Commands</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="sql-reindex.html" title="REINDEX">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="refentry" id="SQL-REFRESHMATERIALIZEDVIEW">
  <div class="titlepage"></div><a id="id-1.9.3.161.1" class="indexterm" name="id-1.9.3.161.1"></a>
  <div class="refnamediv">
    <h2><span class="refentrytitle">REFRESH MATERIALIZED VIEW</span></h2>
    <p>REFRESH MATERIALIZED VIEW — replace the contents of a materialized view</p>
  </div>
  <div class="refsynopsisdiv">
    <h2>Synopsis</h2>
    <pre class="synopsis">
REFRESH MATERIALIZED VIEW [ CONCURRENTLY ] <em class="replaceable"><code>name</code></em>
    [ WITH [ NO ] DATA ]
</pre>
  </div>
  <div class="refsect1" id="id-1.9.3.161.5">
    <h2>Description</h2>
    <p><code class="command">REFRESH MATERIALIZED VIEW</code> completely replaces the contents of a materialized view. To execute this command you must be the owner of the materialized view. The old contents are discarded. If <code class="literal">WITH DATA</code> is specified (or defaults) the backing query is executed to provide the new data, and the materialized view is left in a scannable state. If <code class="literal">WITH NO DATA</code> is specified no new data is generated and the materialized view is left in an unscannable state.</p>
    <p><code class="literal">CONCURRENTLY</code> and <code class="literal">WITH NO DATA</code> may not be specified together.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.161.6">
    <h2>Parameters</h2>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><code class="literal">CONCURRENTLY</code></span></dt>
        <dd>
          <p>Refresh the materialized view without locking out concurrent selects on the materialized view. Without this option a refresh which affects a lot of rows will tend to use fewer resources and complete more quickly, but could block other connections which are trying to read from the materialized view. This option may be faster in cases where a small number of rows are affected.</p>
          <p>This option is only allowed if there is at least one <code class="literal">UNIQUE</code> index on the materialized view which uses only column names and includes all rows; that is, it must not be an expression index or include a <code class="literal">WHERE</code> clause.</p>
          <p>This option may not be used when the materialized view is not already populated.</p>
          <p>Even with this option only one <code class="literal">REFRESH</code> at a time may run against any one materialized view.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt>
        <dd>
          <p>The name (optionally schema-qualified) of the materialized view to refresh.</p>
        </dd>
      </dl>
    </div>
  </div>
  <div class="refsect1" id="id-1.9.3.161.7">
    <h2>Notes</h2>
    <p>If there is an <code class="literal">ORDER BY</code> clause in the materialized view's defining query, the original contents of the materialized view will be ordered that way; but <code class="command">REFRESH MATERIALIZED VIEW</code> does not guarantee to preserve that ordering.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.161.8">
    <h2>Examples</h2>
    <p>This command will replace the contents of the materialized view called <code class="literal">order_summary</code> using the query from the materialized view's definition, and leave it in a scannable state:</p>
    <pre class="programlisting">
REFRESH MATERIALIZED VIEW order_summary;
</pre>
    <p>This command will free storage associated with the materialized view <code class="literal">annual_statistics_basis</code> and leave it in an unscannable state:</p>
    <pre class="programlisting">
REFRESH MATERIALIZED VIEW annual_statistics_basis WITH NO DATA;
</pre>
  </div>
  <div class="refsect1" id="id-1.9.3.161.9">
    <h2>Compatibility</h2>
    <p><code class="command">REFRESH MATERIALIZED VIEW</code> is a <span class="productname">PostgreSQL</span> extension.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.161.10">
    <h2>See Also</h2><span class="simplelist"><a class="xref" href="sql-creatematerializedview.html" title="CREATE MATERIALIZED VIEW"><span class="refentrytitle">CREATE MATERIALIZED VIEW</span></a>, <a class="xref" href="sql-altermaterializedview.html" title="ALTER MATERIALIZED VIEW"><span class="refentrytitle">ALTER MATERIALIZED VIEW</span></a>, <a class="xref" href="sql-dropmaterializedview.html" title="DROP MATERIALIZED VIEW"><span class="refentrytitle">DROP MATERIALIZED VIEW</span></a></span>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="sql-reassign-owned.html" title="REASSIGN OWNED">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="sql-reindex.html" title="REINDEX">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">REASSIGN OWNED&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;REINDEX</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/sql-refreshmaterializedview.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
