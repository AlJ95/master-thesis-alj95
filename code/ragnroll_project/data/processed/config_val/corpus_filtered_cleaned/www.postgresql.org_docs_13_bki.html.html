<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: Chapter 70. System Catalog Declarations and Initial Contents</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/bki.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="Chapter 70. System Catalog Declarations and Initial Contents" />
  <meta property="og:description" content="Chapter&amp;nbsp;70.&amp;nbsp;System Catalog Declarations and Initial Contents Table of Contents 70.1. System Catalog Declaration Rules 70.2. System Catalog Initial Data 70.2.1. …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/bki.html" title="PostgreSQL 17 - Chapter 70. System Catalog Declarations and Initial Contents" >Current</a>
                          (<a href="/docs/17/bki.html" title="PostgreSQL 17 - Chapter 70. System Catalog Declarations and Initial Contents" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/bki.html" title="PostgreSQL 16 - Chapter 70. System Catalog Declarations and Initial Contents" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/bki.html" title="PostgreSQL 15 - Chapter 70. System Catalog Declarations and Initial Contents" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/bki.html" title="PostgreSQL 14 - Chapter 70. System Catalog Declarations and Initial Contents" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/bki.html" title="PostgreSQL 13 - Chapter 70. System Catalog Declarations and Initial Contents" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/bki.html" title="PostgreSQL devel - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/bki.html" title="PostgreSQL 12 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/bki.html" title="PostgreSQL 11 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/bki.html" title="PostgreSQL 10 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/bki.html" title="PostgreSQL 9.6 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/bki.html" title="PostgreSQL 9.5 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/bki.html" title="PostgreSQL 9.4 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/bki.html" title="PostgreSQL 9.3 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/bki.html" title="PostgreSQL 9.2 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/bki.html" title="PostgreSQL 9.1 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/bki.html" title="PostgreSQL 9.0 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/bki.html" title="PostgreSQL 8.4 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/bki.html" title="PostgreSQL 8.3 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/bki.html" title="PostgreSQL 8.2 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/bki.html" title="PostgreSQL 8.1 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/bki.html" title="PostgreSQL 8.0 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/bki.html" title="PostgreSQL 7.4 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/bki.html" title="PostgreSQL 7.3 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">7.3</a>
                    
                       / 
                      <a href="/docs/7.2/bki.html" title="PostgreSQL 7.2 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">7.2</a>
                    
                       / 
                      <a href="/docs/7.1/bki.html" title="PostgreSQL 7.1 - Chapter 70. System Catalog Declarations and Initial Contents"  rel="nofollow">7.1</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">Chapter&nbsp;70.&nbsp;System Catalog Declarations and Initial Contents</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="storage-hot.html" title="69.7.&nbsp;Heap-Only Tuples (HOT)">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="internals.html" title="Part&nbsp;VII.&nbsp;Internals">Up</a></td>
      <th width="60%" align="center">Part&nbsp;VII.&nbsp;Internals</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="system-catalog-declarations.html" title="70.1.&nbsp;System Catalog Declaration Rules">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="chapter" id="BKI">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title">Chapter&nbsp;70.&nbsp;System Catalog Declarations and Initial Contents</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <p><strong>Table of Contents</strong></p>
    <dl class="toc">
      <dt><span class="sect1"><a href="system-catalog-declarations.html">70.1. System Catalog Declaration Rules</a></span></dt>
      <dt><span class="sect1"><a href="system-catalog-initial-data.html">70.2. System Catalog Initial Data</a></span></dt>
      <dd>
        <dl>
          <dt><span class="sect2"><a href="system-catalog-initial-data.html#SYSTEM-CATALOG-INITIAL-DATA-FORMAT">70.2.1. Data File Format</a></span></dt>
          <dt><span class="sect2"><a href="system-catalog-initial-data.html#SYSTEM-CATALOG-OID-ASSIGNMENT">70.2.2. OID Assignment</a></span></dt>
          <dt><span class="sect2"><a href="system-catalog-initial-data.html#SYSTEM-CATALOG-OID-REFERENCES">70.2.3. OID Reference Lookup</a></span></dt>
          <dt><span class="sect2"><a href="system-catalog-initial-data.html#SYSTEM-CATALOG-AUTO-ARRAY-TYPES">70.2.4. Automatic Creation of Array Types</a></span></dt>
          <dt><span class="sect2"><a href="system-catalog-initial-data.html#SYSTEM-CATALOG-RECIPES">70.2.5. Recipes for Editing Data Files</a></span></dt>
        </dl>
      </dd>
      <dt><span class="sect1"><a href="bki-format.html">70.3. <acronym class="acronym">BKI</acronym> File Format</a></span></dt>
      <dt><span class="sect1"><a href="bki-commands.html">70.4. <acronym class="acronym">BKI</acronym> Commands</a></span></dt>
      <dt><span class="sect1"><a href="bki-structure.html">70.5. Structure of the Bootstrap <acronym class="acronym">BKI</acronym> File</a></span></dt>
      <dt><span class="sect1"><a href="bki-example.html">70.6. BKI Example</a></span></dt>
    </dl>
  </div>
  <p><span class="productname">PostgreSQL</span> uses many different system catalogs to keep track of the existence and properties of database objects, such as tables and functions. Physically there is no difference between a system catalog and a plain user table, but the backend C code knows the structure and properties of each catalog, and can manipulate it directly at a low level. Thus, for example, it is inadvisable to attempt to alter the structure of a catalog on-the-fly; that would break assumptions built into the C code about how rows of the catalog are laid out. But the structure of the catalogs can change between major versions.</p>
  <p>The structures of the catalogs are declared in specially formatted C header files in the <code class="filename">src/include/catalog/</code> directory of the source tree. In particular, for each catalog there is a header file named after the catalog (e.g., <code class="filename">pg_class.h</code> for <code class="structname">pg_class</code>), which defines the set of columns the catalog has, as well as some other basic properties such as its OID. Other critical files defining the catalog structure include <code class="filename">indexing.h</code>, which defines the indexes present on all the system catalogs, and <code class="filename">toasting.h</code>, which defines TOAST tables for catalogs that need one.</p>
  <p>Many of the catalogs have initial data that must be loaded into them during the <span class="quote">“<span class="quote">bootstrap</span>”</span> phase of <span class="application">initdb</span>, to bring the system up to a point where it is capable of executing SQL commands. (For example, <code class="filename">pg_class.h</code> must contain an entry for itself, as well as one for each other system catalog and index.) This initial data is kept in editable form in data files that are also stored in the <code class="filename">src/include/catalog/</code> directory. For example, <code class="filename">pg_proc.dat</code> describes all the initial rows that must be inserted into the <code class="structname">pg_proc</code> catalog.</p>
  <p>To create the catalog files and load this initial data into them, a backend running in bootstrap mode reads a <acronym class="acronym">BKI</acronym> (Backend Interface) file containing commands and initial data. The <code class="filename">postgres.bki</code> file used in this mode is prepared from the aforementioned header and data files, while building a <span class="productname">PostgreSQL</span> distribution, by a Perl script named <code class="filename">genbki.pl</code>. Although it's specific to a particular <span class="productname">PostgreSQL</span> release, <code class="filename">postgres.bki</code> is platform-independent and is installed in the <code class="filename">share</code> subdirectory of the installation tree.</p>
  <p><code class="filename">genbki.pl</code> also produces a derived header file for each catalog, for example <code class="filename">pg_class_d.h</code> for the <code class="structname">pg_class</code> catalog. This file contains automatically-generated macro definitions, and may contain other macros, enum declarations, and so on that can be useful for client C code that reads a particular catalog.</p>
  <p>Most PostgreSQL developers don't need to be directly concerned with the <acronym class="acronym">BKI</acronym> file, but almost any nontrivial feature addition in the backend will require modifying the catalog header files and/or initial data files. The rest of this chapter gives some information about that, and for completeness describes the <acronym class="acronym">BKI</acronym> file format.</p>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="storage-hot.html" title="69.7.&nbsp;Heap-Only Tuples (HOT)">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="internals.html" title="Part&nbsp;VII.&nbsp;Internals">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="system-catalog-declarations.html" title="70.1.&nbsp;System Catalog Declaration Rules">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">69.7.&nbsp;Heap-Only Tuples (<acronym xmlns="http://www.w3.org/1999/xhtml" class="acronym">HOT</acronym>)&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;70.1.&nbsp;System Catalog Declaration Rules</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/bki.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
