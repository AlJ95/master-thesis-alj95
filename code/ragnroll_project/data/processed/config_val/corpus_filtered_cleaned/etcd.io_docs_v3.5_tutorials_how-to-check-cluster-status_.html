<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to check Cluster status | etcd</title>
<meta name=description content="Guide to checking etcd cluster status"><meta property="og:url" content="https://etcd.io/docs/v3.5/tutorials/how-to-check-cluster-status/"><meta property="og:site_name" content="etcd"><meta property="og:title" content="How to check Cluster status"><meta property="og:description" content="Guide to checking etcd cluster status"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-05-13T11:12:08-07:00"><meta itemprop=name content="How to check Cluster status"><meta itemprop=description content="Guide to checking etcd cluster status"><meta itemprop=dateModified content="2024-05-13T11:12:08-07:00"><meta itemprop=wordCount content="293"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to check Cluster status"><meta name=twitter:description content="Guide to checking etcd cluster status"></head><body class=td-page><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><h1>How to check Cluster status</h1><div class=lead>Guide to checking etcd cluster status</div><h2 id=prerequisites>Prerequisites</h2><ul><li>Install <a href=https://etcd.io/docs/v3.6/install/ target=_blank rel=noopener><code>etcd</code> and <code>etcdctl</code></a></li></ul><h2 id=check-overall-status>Check Overall Status</h2><p><code>endpoint status</code> to check the overall status of each endpoint specified in <code>--endpoints</code> flag:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>etcdctl endpoint status <span style=color:#ce5c00;font-weight:700>(</span>--endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$ENDPOINTS</span><span style=color:#000;font-weight:700>|</span>--cluster<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=options>Options</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>--cluster<span style=color:#ce5c00;font-weight:700>[=</span>false<span style=color:#ce5c00;font-weight:700>]</span>: use all endpoints from the cluster member list
</span></span></code></pre></div><h2 id=check-health>Check Health</h2><p><code>endpoint health</code> to check the healthiness of each endpoint specified in <code>--endpoints</code> flag:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>etcdctl endpoint health <span style=color:#ce5c00;font-weight:700>(</span>--endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$ENDPOINTS</span><span style=color:#000;font-weight:700>|</span>--cluster<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=options-1>Options</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>--cluster<span style=color:#ce5c00;font-weight:700>[=</span>false<span style=color:#ce5c00;font-weight:700>]</span>: use all endpoints from the cluster member list
</span></span></code></pre></div><h2 id=check-kv-hash>Check KV Hash</h2><p><code>endpoint hashkv</code> to check the KV history hash of each endpoint specified in <code>--endpoints</code> flag:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>etcdctl endpoint hashkv <span style=color:#ce5c00;font-weight:700>(</span>--endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$ENDPOINTS</span><span style=color:#000;font-weight:700>|</span>--cluster<span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#000>rev</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$REV</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><h3 id=options-2>Options</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>--cluster<span style=color:#ce5c00;font-weight:700>[=</span>false<span style=color:#ce5c00;font-weight:700>]</span>: use all endpoints from the cluster member list
</span></span><span style=display:flex><span>--rev<span style=color:#ce5c00;font-weight:700>=</span>0: maximum revision to <span style=color:#204a87>hash</span> <span style=color:#ce5c00;font-weight:700>(</span>default: latest revision<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=options-inherited-from-parent-commands>Options inherited from parent commands</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>--endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;127.0.0.1:2379&#34;</span>: gRPC endpoints
</span></span><span style=display:flex><span>-w, --write-out<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;simple&#34;</span>: <span style=color:#204a87>set</span> the output format <span style=color:#ce5c00;font-weight:700>(</span>fields, json, protobuf, simple, table<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=examples>Examples</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>etcdctl --write-out<span style=color:#ce5c00;font-weight:700>=</span>table --endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$ENDPOINTS</span> endpoint status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>+------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span>    ENDPOINT      <span style=color:#000;font-weight:700>|</span>        ID        <span style=color:#000;font-weight:700>|</span> VERSION <span style=color:#000;font-weight:700>|</span> DB SIZE <span style=color:#000;font-weight:700>|</span> IS LEADER <span style=color:#000;font-weight:700>|</span> IS LEARNER <span style=color:#000;font-weight:700>|</span> RAFT TERM <span style=color:#000;font-weight:700>|</span> RAFT INDEX <span style=color:#000;font-weight:700>|</span> RAFT APPLIED INDEX <span style=color:#000;font-weight:700>|</span> ERRORS <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>+------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.17:2379 <span style=color:#000;font-weight:700>|</span> 4917a7ab173fabe7 <span style=color:#000;font-weight:700>|</span>  3.5.0  <span style=color:#000;font-weight:700>|</span>   <span style=color:#0000cf;font-weight:700>45</span> kB <span style=color:#000;font-weight:700>|</span>      <span style=color:#204a87>true</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#204a87>false</span> <span style=color:#000;font-weight:700>|</span>         <span style=color:#0000cf;font-weight:700>4</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>              <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>        <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.18:2379 <span style=color:#000;font-weight:700>|</span> 59796ba9cd1bcd72 <span style=color:#000;font-weight:700>|</span>  3.5.0  <span style=color:#000;font-weight:700>|</span>   <span style=color:#0000cf;font-weight:700>45</span> kB <span style=color:#000;font-weight:700>|</span>     <span style=color:#204a87>false</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#204a87>false</span> <span style=color:#000;font-weight:700>|</span>         <span style=color:#0000cf;font-weight:700>4</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>              <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>        <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.19:2379 <span style=color:#000;font-weight:700>|</span> 94df724b66343e6c <span style=color:#000;font-weight:700>|</span>  3.5.0  <span style=color:#000;font-weight:700>|</span>   <span style=color:#0000cf;font-weight:700>45</span> kB <span style=color:#000;font-weight:700>|</span>     <span style=color:#204a87>false</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#204a87>false</span> <span style=color:#000;font-weight:700>|</span>         <span style=color:#0000cf;font-weight:700>4</span> <span style=color:#000;font-weight:700>|</span>      <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>              <span style=color:#0000cf;font-weight:700>16726</span> <span style=color:#000;font-weight:700>|</span>        <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>+------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------<span style=color:#000;font-weight:700>|</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>etcdctl --endpoints<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$ENDPOINTS</span> endpoint health
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>10.240.0.17:2379 is healthy: successfully committed proposal: <span style=color:#000>took</span> <span style=color:#ce5c00;font-weight:700>=</span> 3.345431ms
</span></span><span style=display:flex><span>10.240.0.19:2379 is healthy: successfully committed proposal: <span style=color:#000>took</span> <span style=color:#ce5c00;font-weight:700>=</span> 3.767967ms
</span></span><span style=display:flex><span>10.240.0.18:2379 is healthy: successfully committed proposal: <span style=color:#000>took</span> <span style=color:#ce5c00;font-weight:700>=</span> 4.025451ms
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>etcdctl --cluster endpoint hashkv  --write-out<span style=color:#ce5c00;font-weight:700>=</span>table
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>+------------------+------------+---------------+
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span>     ENDPOINT     <span style=color:#000;font-weight:700>|</span>    HASH    <span style=color:#000;font-weight:700>|</span> HASH REVISION <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>+------------------+------------+---------------+
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.17:2379 <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>3892279174</span> <span style=color:#000;font-weight:700>|</span>             <span style=color:#0000cf;font-weight:700>3</span> <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.18:2379 <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>3892279174</span> <span style=color:#000;font-weight:700>|</span>             <span style=color:#0000cf;font-weight:700>3</span> <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>|</span> 10.240.0.19:2379 <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>3892279174</span> <span style=color:#000;font-weight:700>|</span>             <span style=color:#0000cf;font-weight:700>3</span> <span style=color:#000;font-weight:700>|</span>
</span></span><span style=display:flex><span>+------------------+------------+---------------+
</span></span></code></pre></div><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/etcd-io/website/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/etcd-io/website/issues/new>tell us how we can improve</a>.</p></div><br><div class=td-page-meta__lastmod>Last modified May 13, 2024: <a href=https://github.com/etcd-io/website/commit/5e604c8e1e0175dfaa0429bcfa4709864082c011>update tutorial for endpoint status check. (5e604c8)</a></div></div></main></div></div></div></body></html>