<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: 50.4. The PostgreSQL Rule System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/rule-system.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="50.4. The PostgreSQL Rule System" />
  <meta property="og:description" content="50.4.&amp;nbsp;The PostgreSQL Rule System PostgreSQL supports a powerful rule system for the specification of views and ambiguous view updates. Originally …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/rule-system.html" title="PostgreSQL 17 - 50.4. The PostgreSQL Rule System" >Current</a>
                          (<a href="/docs/17/rule-system.html" title="PostgreSQL 17 - 50.4. The PostgreSQL Rule System" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/rule-system.html" title="PostgreSQL 16 - 50.4. The PostgreSQL Rule System" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/rule-system.html" title="PostgreSQL 15 - 50.4. The PostgreSQL Rule System" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/rule-system.html" title="PostgreSQL 14 - 50.4. The PostgreSQL Rule System" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/rule-system.html" title="PostgreSQL 13 - 50.4. The PostgreSQL Rule System" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/rule-system.html" title="PostgreSQL devel - 50.4. The PostgreSQL Rule System"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/rule-system.html" title="PostgreSQL 12 - 50.4. The PostgreSQL Rule System"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/rule-system.html" title="PostgreSQL 11 - 50.4. The PostgreSQL Rule System"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/rule-system.html" title="PostgreSQL 10 - 50.4. The PostgreSQL Rule System"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/rule-system.html" title="PostgreSQL 9.6 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/rule-system.html" title="PostgreSQL 9.5 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/rule-system.html" title="PostgreSQL 9.4 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/rule-system.html" title="PostgreSQL 9.3 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/rule-system.html" title="PostgreSQL 9.2 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/rule-system.html" title="PostgreSQL 9.1 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/rule-system.html" title="PostgreSQL 9.0 - 50.4. The PostgreSQL Rule System"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/rule-system.html" title="PostgreSQL 8.4 - 50.4. The PostgreSQL Rule System"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/rule-system.html" title="PostgreSQL 8.3 - 50.4. The PostgreSQL Rule System"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/rule-system.html" title="PostgreSQL 8.2 - 50.4. The PostgreSQL Rule System"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/rule-system.html" title="PostgreSQL 8.1 - 50.4. The PostgreSQL Rule System"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/rule-system.html" title="PostgreSQL 8.0 - 50.4. The PostgreSQL Rule System"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/rule-system.html" title="PostgreSQL 7.4 - 50.4. The PostgreSQL Rule System"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/rule-system.html" title="PostgreSQL 7.3 - 50.4. The PostgreSQL Rule System"  rel="nofollow">7.3</a>
                    
                       / 
                      <a href="/docs/7.2/rule-system.html" title="PostgreSQL 7.2 - 50.4. The PostgreSQL Rule System"  rel="nofollow">7.2</a>
                    
                       / 
                      <a href="/docs/7.1/rule-system.html" title="PostgreSQL 7.1 - 50.4. The PostgreSQL Rule System"  rel="nofollow">7.1</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">50.4.&nbsp;The <span xmlns="http://www.w3.org/1999/xhtml" class="productname">PostgreSQL</span> Rule System</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="parser-stage.html" title="50.3.&nbsp;The Parser Stage">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="overview.html" title="Chapter&nbsp;50.&nbsp;Overview of PostgreSQL Internals">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;50.&nbsp;Overview of PostgreSQL Internals</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="planner-optimizer.html" title="50.5.&nbsp;Planner/Optimizer">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RULE-SYSTEM">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">50.4.&nbsp;The <span class="productname">PostgreSQL</span> Rule System</h2>
      </div>
    </div>
  </div>
  <p><span class="productname">PostgreSQL</span> supports a powerful <em class="firstterm">rule system</em> for the specification of <em class="firstterm">views</em> and ambiguous <em class="firstterm">view updates</em>. Originally the <span class="productname">PostgreSQL</span> rule system consisted of two implementations:</p>
  <div class="itemizedlist">
    <ul class="itemizedlist" style="list-style-type: disc;">
      <li class="listitem">
        <p>The first one worked using <em class="firstterm">row level</em> processing and was implemented deep in the <em class="firstterm">executor</em>. The rule system was called whenever an individual row had been accessed. This implementation was removed in 1995 when the last official release of the <span class="productname">Berkeley Postgres</span> project was transformed into <span class="productname">Postgres95</span>.</p>
      </li>
      <li class="listitem">
        <p>The second implementation of the rule system is a technique called <em class="firstterm">query rewriting</em>. The <em class="firstterm">rewrite system</em> is a module that exists between the <em class="firstterm">parser stage</em> and the <em class="firstterm">planner/optimizer</em>. This technique is still implemented.</p>
      </li>
    </ul>
  </div>
  <p>The query rewriter is discussed in some detail in <a class="xref" href="rules.html" title="Chapter&nbsp;40.&nbsp;The Rule System">Chapter&nbsp;40</a>, so there is no need to cover it here. We will only point out that both the input and the output of the rewriter are query trees, that is, there is no change in the representation or level of semantic detail in the trees. Rewriting can be thought of as a form of macro expansion.</p>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="parser-stage.html" title="50.3.&nbsp;The Parser Stage">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="overview.html" title="Chapter&nbsp;50.&nbsp;Overview of PostgreSQL Internals">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="planner-optimizer.html" title="50.5.&nbsp;Planner/Optimizer">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">50.3.&nbsp;The Parser Stage&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;50.5.&nbsp;Planner/Optimizer</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/rule-system.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
