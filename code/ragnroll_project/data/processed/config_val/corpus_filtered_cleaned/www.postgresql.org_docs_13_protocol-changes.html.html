<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: 52.10. Summary of Changes since Protocol 2.0</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/protocol-changes.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="52.10. Summary of Changes since Protocol 2.0" />
  <meta property="og:description" content="52.10.&amp;nbsp;Summary of Changes since Protocol 2.0 This section provides a quick checklist of changes, for the benefit of developers trying …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/protocol-changes.html" title="PostgreSQL 17 - 52.10. Summary of Changes since Protocol 2.0" >Current</a>
                          (<a href="/docs/17/protocol-changes.html" title="PostgreSQL 17 - 52.10. Summary of Changes since Protocol 2.0" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/protocol-changes.html" title="PostgreSQL 16 - 52.10. Summary of Changes since Protocol 2.0" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/protocol-changes.html" title="PostgreSQL 15 - 52.10. Summary of Changes since Protocol 2.0" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/protocol-changes.html" title="PostgreSQL 14 - 52.10. Summary of Changes since Protocol 2.0" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/protocol-changes.html" title="PostgreSQL 13 - 52.10. Summary of Changes since Protocol 2.0" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/protocol-changes.html" title="PostgreSQL devel - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/protocol-changes.html" title="PostgreSQL 12 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/protocol-changes.html" title="PostgreSQL 11 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/protocol-changes.html" title="PostgreSQL 10 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/protocol-changes.html" title="PostgreSQL 9.6 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/protocol-changes.html" title="PostgreSQL 9.5 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/protocol-changes.html" title="PostgreSQL 9.4 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/protocol-changes.html" title="PostgreSQL 9.3 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/protocol-changes.html" title="PostgreSQL 9.2 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/protocol-changes.html" title="PostgreSQL 9.1 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/protocol-changes.html" title="PostgreSQL 9.0 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/protocol-changes.html" title="PostgreSQL 8.4 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/protocol-changes.html" title="PostgreSQL 8.3 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/protocol-changes.html" title="PostgreSQL 8.2 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/protocol-changes.html" title="PostgreSQL 8.1 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/protocol-changes.html" title="PostgreSQL 8.0 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/protocol-changes.html" title="PostgreSQL 7.4 - 52.10. Summary of Changes since Protocol 2.0"  rel="nofollow">7.4</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">52.10.&nbsp;Summary of Changes since Protocol 2.0</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="protocol-logicalrep-message-formats.html" title="52.9.&nbsp;Logical Replication Message Formats">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="protocol.html" title="Chapter&nbsp;52.&nbsp;Frontend/Backend Protocol">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;52.&nbsp;Frontend/Backend Protocol</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="source.html" title="Chapter&nbsp;53.&nbsp;PostgreSQL Coding Conventions">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="PROTOCOL-CHANGES">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">52.10.&nbsp;Summary of Changes since Protocol 2.0</h2>
      </div>
    </div>
  </div>
  <p>This section provides a quick checklist of changes, for the benefit of developers trying to update existing client libraries to protocol 3.0.</p>
  <p>The initial startup packet uses a flexible list-of-strings format instead of a fixed format. Notice that session default values for run-time parameters can now be specified directly in the startup packet. (Actually, you could do that before using the <code class="literal">options</code> field, but given the limited width of <code class="literal">options</code> and the lack of any way to quote whitespace in the values, it wasn't a very safe technique.)</p>
  <p>All messages now have a length count immediately following the message type byte (except for startup packets, which have no type byte). Also note that PasswordMessage now has a type byte.</p>
  <p>ErrorResponse and NoticeResponse ('<code class="literal">E</code>' and '<code class="literal">N</code>') messages now contain multiple fields, from which the client code can assemble an error message of the desired level of verbosity. Note that individual fields will typically not end with a newline, whereas the single string sent in the older protocol always did.</p>
  <p>The ReadyForQuery ('<code class="literal">Z</code>') message includes a transaction status indicator.</p>
  <p>The distinction between BinaryRow and DataRow message types is gone; the single DataRow message type serves for returning data in all formats. Note that the layout of DataRow has changed to make it easier to parse. Also, the representation of binary values has changed: it is no longer directly tied to the server's internal representation.</p>
  <p>There is a new <span class="quote">“<span class="quote">extended query</span>”</span> sub-protocol, which adds the frontend message types Parse, Bind, Execute, Describe, Close, Flush, and Sync, and the backend message types ParseComplete, BindComplete, PortalSuspended, ParameterDescription, NoData, and CloseComplete. Existing clients do not have to concern themselves with this sub-protocol, but making use of it might allow improvements in performance or functionality.</p>
  <p><code class="command">COPY</code> data is now encapsulated into CopyData and CopyDone messages. There is a well-defined way to recover from errors during <code class="command">COPY</code>. The special <span class="quote">“<span class="quote"><code class="literal">\.</code></span>”</span> last line is not needed anymore, and is not sent during <code class="command">COPY OUT</code>. (It is still recognized as a terminator during <code class="command">COPY IN</code>, but its use is deprecated and will eventually be removed.) Binary <code class="command">COPY</code> is supported. The CopyInResponse and CopyOutResponse messages include fields indicating the number of columns and the format of each column.</p>
  <p>The layout of FunctionCall and FunctionCallResponse messages has changed. FunctionCall can now support passing NULL arguments to functions. It also can handle passing parameters and retrieving results in either text or binary format. There is no longer any reason to consider FunctionCall a potential security hole, since it does not offer direct access to internal server data representations.</p>
  <p>The backend sends ParameterStatus ('<code class="literal">S</code>') messages during connection startup for all parameters it considers interesting to the client library. Subsequently, a ParameterStatus message is sent whenever the active value changes for any of these parameters.</p>
  <p>The RowDescription ('<code class="literal">T</code>') message carries new table OID and column number fields for each column of the described row. It also shows the format code for each column.</p>
  <p>The CursorResponse ('<code class="literal">P</code>') message is no longer generated by the backend.</p>
  <p>The NotificationResponse ('<code class="literal">A</code>') message has an additional string field, which can carry a <span class="quote">“<span class="quote">payload</span>”</span> string passed from the <code class="command">NOTIFY</code> event sender.</p>
  <p>The EmptyQueryResponse ('<code class="literal">I</code>') message used to include an empty string parameter; this has been removed.</p>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="protocol-logicalrep-message-formats.html" title="52.9.&nbsp;Logical Replication Message Formats">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="protocol.html" title="Chapter&nbsp;52.&nbsp;Frontend/Backend Protocol">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="source.html" title="Chapter&nbsp;53.&nbsp;PostgreSQL Coding Conventions">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">52.9.&nbsp;Logical Replication Message Formats&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;53.&nbsp;PostgreSQL Coding Conventions</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/protocol-changes.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
