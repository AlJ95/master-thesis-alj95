<!doctype html>
<html lang="en" class="scroll-smooth w-full">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="generator" content="Hugo 0.143.1">
    <meta name="robots" content="index, follow">
      <meta name="google-site-verification" content="suIo51jDr2z6o48kiD53RKtRvp-JgZ-njy8SWMdrkMo">
      
    
<meta name="theme-color" content="#ffffff">














<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/docs/latest/images/favicons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/docs/latest/images/favicons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/docs/latest/images/favicons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/docs/latest/images/favicons/mstile-310x150.png" /> 
<meta name="msapplication-square310x310logo" content="/docs/latest/images/favicons/mstile-310x310.png" />

    <title>EXPIRE | Docs</title>
    <meta name="description" content="Sets the expiration time of a key in seconds.">
    <meta property="og:url" content="https://redis.io/docs/latest/commands/expire/">
  <meta property="og:site_name" content="Docs">
  <meta property="og:title" content="EXPIRE">
  <meta property="og:description" content="Sets the expiration time of a key in seconds.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="commands">
    <meta property="article:modified_time" content="2025-04-24T15:45:45+01:00">

  <meta itemprop="name" content="EXPIRE">
  <meta itemprop="description" content="Sets the expiration time of a key in seconds.">
  <meta itemprop="dateModified" content="2025-04-24T15:45:45+01:00">
  <meta itemprop="wordCount" content="2679">
  <meta itemprop="keywords" content="Docs,Develop,Stack,Rs,Rc,Oss,Kubernetes,Clients">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="EXPIRE">
  <meta name="twitter:description" content="Sets the expiration time of a key in seconds.">

  
  
  


    


  



    
  
  

    
    










    
    
    
    
  </head>
  <body class="antialiased tracking-[-0.01em] bg-white w-full">
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKZ6J9R"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    

    




    
  
  
  <main class="docs w-full max-w-[1920px] mx-auto px-5 flex flex-col md:flex-row overflow-hidden">
    


<div class="md:block w-full md:w-96 h-fit md:h-full shrink-0 text-base font-mono font-normal py-6">
  


      <section class="prose w-full py-12">
        <h1 class="command-name">EXPIRE
        </h1>
        
        
        
        
        
        <div class="font-semibold text-redis-ink-900">Syntax</div>
        <pre class="command-syntax">EXPIRE key seconds [NX | XX | GT | LT]</pre>
        
        <dl class="grid grid-cols-[auto,1fr] gap-2 mb-12">
          
          <dt class="font-semibold text-redis-ink-900 m-0">Available since:</dt>
          <dd class="m-0">Redis CE 1.0.0</dd>
          
          <dt class="font-semibold text-redis-ink-900 m-0">Time complexity:</dt>
          <dd class="m-0">O(1)</dd>
          
          <dt class="font-semibold text-redis-ink-900 m-0">ACL categories:</dt>
            <dd class="m-0">
              
                <code>@keyspace</code><span class='mr-1 last:hidden'>,</span>
              
                <code>@write</code><span class='mr-1 last:hidden'>,</span>
              
                <code>@fast</code><span class='mr-1 last:hidden'>,</span>
              
            </dd>
          
        </dl>

        <p>Set a timeout on <code>key</code>.
After the timeout has expired, the key will automatically be deleted.
A key with an associated timeout is often said to be <em>volatile</em> in Redis
terminology.</p>
<p>The timeout will only be cleared by commands that delete or overwrite the
contents of the key, including <a href="/docs/latest/commands/del/"><code>DEL</code></a>, <a href="/docs/latest/commands/set/"><code>SET</code></a>, <a href="/docs/latest/commands/getset/"><code>GETSET</code></a> and all the <code>*STORE</code>
commands.
This means that all the operations that conceptually <em>alter</em> the value stored at
the key without replacing it with a new one will leave the timeout untouched.
For instance, incrementing the value of a key with <a href="/docs/latest/commands/incr/"><code>INCR</code></a>, pushing a new value
into a list with <a href="/docs/latest/commands/lpush/"><code>LPUSH</code></a>, or altering the field value of a hash with <a href="/docs/latest/commands/hset/"><code>HSET</code></a> are
all operations that will leave the timeout untouched.</p>
<p>The timeout can also be cleared, turning the key back into a persistent key,
using the <a href="/docs/latest/commands/persist/"><code>PERSIST</code></a> command.</p>
<p>If a key is renamed with <a href="/docs/latest/commands/rename/"><code>RENAME</code></a>, the associated time to live is transferred to
the new key name.</p>
<p>If a key is overwritten by <a href="/docs/latest/commands/rename/"><code>RENAME</code></a>, like in the case of an existing key <code>Key_A</code>
that is overwritten by a call like <code>RENAME Key_B Key_A</code>, it does not matter if
the original <code>Key_A</code> had a timeout associated or not, the new key <code>Key_A</code> will
inherit all the characteristics of <code>Key_B</code>.</p>
<p>Note that calling <code>EXPIRE</code>/<a href="/docs/latest/commands/pexpire/"><code>PEXPIRE</code></a> with a non-positive timeout or
<a href="/docs/latest/commands/expireat/"><code>EXPIREAT</code></a>/<a href="/docs/latest/commands/pexpireat/"><code>PEXPIREAT</code></a> with a time in the past will result in the key being
<a href="/commands/del">deleted</a> rather than expired (accordingly, the emitted <a href="/develop/use/keyspace-notifications">key event</a>
will be <code>del</code>, not <code>expired</code>).</p>
<h2 id="options">Options</h2>
<p>The <code>EXPIRE</code> command supports a set of options:</p>
<ul>
<li><code>NX</code> -- Set expiry only when the key has no expiry</li>
<li><code>XX</code> -- Set expiry only when the key has an existing expiry</li>
<li><code>GT</code> -- Set expiry only when the new expiry is greater than current one</li>
<li><code>LT</code> -- Set expiry only when the new expiry is less than current one</li>
</ul>
<p>A non-volatile key is treated as an infinite TTL for the purpose of <code>GT</code> and <code>LT</code>.
The <code>GT</code>, <code>LT</code> and <code>NX</code> options are mutually exclusive.</p>
<h2 id="refreshing-expires">Refreshing expires</h2>
<p>It is possible to call <code>EXPIRE</code> using as argument a key that already has an
existing expire set.
In this case the time to live of a key is <em>updated</em> to the new value.
There are many useful applications for this, an example is documented in the
<em>Navigation session</em> pattern section below.</p>
<h2 id="differences-in-redis-prior-213">Differences in Redis prior 2.1.3</h2>
<p>In Redis versions prior <strong>2.1.3</strong> altering a key with an expire set using a
command altering its value had the effect of removing the key entirely.
This semantics was needed because of limitations in the replication layer that
are now fixed.</p>
<p><code>EXPIRE</code> would return 0 and not alter the timeout for a key with a timeout set.</p>
<h2 id="examples">Examples</h2>
















    
    




    
    
    
    
    
    
        
        
        
        
            
        
        
        
        
        
    

    
    
    
    
    
    
        
        
        
        
            
        
        
        
        
        
    

    
    
    
    
    
    
        
        
        
        
            
        
        
        
        
        
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    
        
        
        
        
            
        
        
        
        
        
    

    
    
    
    
    
    
        
        
        
        
            
        
        
        
        
        
    

    
    
    
    
    
    













<div class="codetabs cli group flex justify-start items-center flex-wrap box-border rounded-lg mt-0 mb-0 mx-auto bg-slate-900" id="cmds_generic-stepexpire">
    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="redis-cli_cmds_generic-stepexpire" data-lang="redis-cli" class="radiotab w-0 h-0"
               checked
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="redis-cli_cmds_generic-stepexpire">
            
                &gt;_ Redis CLI
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_redis-cli_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line hl"><span class="cl">&gt; SET mykey &#34;Hello&#34;
</span></span><span class="line hl"><span class="cl">&#34;OK&#34;
</span></span><span class="line hl"><span class="cl">&gt; EXPIRE mykey 10
</span></span><span class="line hl"><span class="cl">(integer) 1
</span></span><span class="line hl"><span class="cl">&gt; TTL mykey
</span></span><span class="line hl"><span class="cl">(integer) 10
</span></span><span class="line hl"><span class="cl">&gt; SET mykey &#34;Hello World&#34;
</span></span><span class="line hl"><span class="cl">&#34;OK&#34;
</span></span><span class="line hl"><span class="cl">&gt; TTL mykey
</span></span><span class="line hl"><span class="cl">(integer) -1
</span></span><span class="line hl"><span class="cl">&gt; EXPIRE mykey 10 XX
</span></span><span class="line hl"><span class="cl">(integer) 0
</span></span><span class="line hl"><span class="cl">&gt; TTL mykey
</span></span><span class="line hl"><span class="cl">(integer) -1
</span></span><span class="line hl"><span class="cl">&gt; EXPIRE mykey 10 NX
</span></span><span class="line hl"><span class="cl">(integer) 1
</span></span><span class="line hl"><span class="cl">&gt; TTL mykey
</span></span><span class="line hl"><span class="cl">(integer) 10</span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_redis-cli_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
                <div class="flex-1 text-xs text-white overflow-ellipsis">Are you tired of using redis-cli? Try Redis Insight - the developer GUI for Redis.</div>
                <div class="text-right">
                    <a href="https://redis.com/redis-enterprise/redis-insight/" tabindex="1" class="rounded rounded-mx px-2 py-1 flex items-center text-white text-xs
                    hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                    focus:ring-2 focus:white focus:border-slate-500" title="Get Redis Insight">
                        
                            
                            
                            
                            
                            
                            
                            
                            
                        </svg>
                        <span>Get Redis Insight</span>
                    </a>
                </div>
            
           </div>
           
        </div>

    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="Python_cmds_generic-stepexpire" data-lang="Python" class="radiotab w-0 h-0"
               
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="Python_cmds_generic-stepexpire">
            
                Python
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_Python_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">redis</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">r</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">Redis</span><span class="p">(</span><span class="n">decode_responses</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&#34;key1&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&#34;key2&#34;</span><span class="p">,</span> <span class="s2">&#34;World&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&#34;key1&#34;</span><span class="p">,</span> <span class="s2">&#34;key2&#34;</span><span class="p">,</span> <span class="s2">&#34;key3&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ttl</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; 10</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello World&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ttl</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; -1</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">xx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; False</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ttl</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; -1</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">nx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ttl</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl"><span class="c1"># &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">ttl</span><span class="p">(</span><span class="s2">&#34;mykey&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">sadd</span><span class="p">(</span><span class="s2">&#34;myset&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span> <span class="s2">&#34;foobar&#34;</span><span class="p">,</span> <span class="s2">&#34;feelsgood&#34;</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">sscan_iter</span><span class="p">(</span><span class="s2">&#34;myset&#34;</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s2">&#34;f*&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; [&#39;foobar&#39;, &#39;foo&#39;, &#39;feelsgood&#39;]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s1">&#39;*11*&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s1">&#39;*11*&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s1">&#39;*11*&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s1">&#39;*11*&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s1">&#39;*11*&#39;</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">geoadd</span><span class="p">(</span><span class="s2">&#34;geokey&#34;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;value&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">zadd</span><span class="p">(</span><span class="s2">&#34;zkey&#34;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&#34;value&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="s2">&#34;geokey&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; zset</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="s2">&#34;zkey&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; zset</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">_type</span><span class="o">=</span><span class="s2">&#34;zset&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; [&#39;zkey&#39;, &#39;geokey&#39;]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">res</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hset</span><span class="p">(</span><span class="s2">&#34;myhash&#34;</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="p">{</span><span class="s2">&#34;a&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hscan</span><span class="p">(</span><span class="s2">&#34;myhash&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; {&#39;a&#39;: &#39;1&#39;, &#39;b&#39;: &#39;2&#39;}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">cursor</span><span class="p">,</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hscan</span><span class="p">(</span><span class="s2">&#34;myhash&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">no_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># &gt;&gt;&gt; [&#39;a&#39;, &#39;b&#39;]</span>
</span></span><span class="line"><span class="cl">
</span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_Python_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            
            <button tabindex="1" class="visibility-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-2 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Toggle visibility" aria-controls="panel_Python_cmds_generic-stepexpire" onclick="toggleVisibleLines(this)">
                
                    
                </svg>
                
                    
                </svg>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
              
              <a href='https://redis.io/docs/latest/develop/clients/redis-py/' tabindex="1" class="rounded rounded-mx px-3 py-1 text-white text-xs
                                hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                                focus:ring-2 focus:white focus:border-slate-500" title="Quick-Start">
                Python Quick-Start
              </a>
              <div class="w-1/2"></div>
              <div class="flex-1 text-right">
                <a href='https://github.com/redis/redis-py/tree/master/doctests/cmds_generic.py' tabindex="1" class="button text-neutral-400 hover:text-slate-100 h-6 w-6 p-1" title="Improve this code example">
                  
                    
                  </svg>
                </a>
              </div>
           
           </div>
           
        </div>

    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="Nodejs_cmds_generic-stepexpire" data-lang="Node-js" class="radiotab w-0 h-0"
               
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="Nodejs_cmds_generic-stepexpire">
            
                Node.js
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_Nodejs_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-node.js" data-lang="node.js"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createClient</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;redis&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">createClient</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">connect</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">delRes1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">delRes1</span><span class="p">);</span> <span class="c1">// OK
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">delRes2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;key2&#39;</span><span class="p">,</span> <span class="s1">&#39;World&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">delRes2</span><span class="p">);</span> <span class="c1">// OK
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">delRes3</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">del</span><span class="p">([</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">,</span> <span class="s1">&#39;key3&#39;</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">delRes3</span><span class="p">);</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes1</span><span class="p">);</span> <span class="c1">// OK
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">expire</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes2</span><span class="p">);</span> <span class="c1">// true
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes3</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ttl</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes3</span><span class="p">);</span> <span class="c1">// 10
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes4</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello World&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes4</span><span class="p">);</span> <span class="c1">// OK
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes5</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ttl</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes5</span><span class="p">);</span> <span class="c1">// -1
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes6</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">expire</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&#34;XX&#34;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes6</span><span class="p">);</span> <span class="c1">// false
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes7</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ttl</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes7</span><span class="p">);</span> <span class="c1">// -1
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes8</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">expire</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&#34;NX&#34;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes8</span><span class="p">);</span> <span class="c1">// true
</span></span></span><span class="line hl"><span class="cl"><span class="c1"></span>
</span></span><span class="line hl"><span class="cl"><span class="kr">const</span> <span class="nx">expireRes9</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ttl</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">expireRes9</span><span class="p">);</span> <span class="c1">// 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">ttlRes1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ttlRes1</span><span class="p">);</span> <span class="c1">// OK
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">ttlRes2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">expire</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ttlRes2</span><span class="p">);</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">ttlRes3</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ttl</span><span class="p">(</span><span class="s1">&#39;mykey&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ttlRes3</span><span class="p">);</span> <span class="c1">// 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan1Res1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">sAdd</span><span class="p">(</span><span class="s1">&#39;myset&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;foobar&#39;</span><span class="p">,</span> <span class="s1">&#39;feelsgood&#39;</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan1Res1</span><span class="p">);</span> <span class="c1">// 6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan1Res2</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="kr">await</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">client</span><span class="p">.</span><span class="nx">sScanIterator</span><span class="p">(</span><span class="s1">&#39;myset&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;f*&#39;</span> <span class="p">}))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">scan1Res2</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan1Res2</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;, &#39;foobar&#39;, &#39;feelsgood&#39;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">cursor</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">scanResult</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">scanResult</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">cursor</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;*11*&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="nx">scanResult</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">scanResult</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;*11*&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="nx">scanResult</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">scanResult</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;*11*&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="nx">scanResult</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">scanResult</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;*11*&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="nx">scanResult</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">scanResult</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="p">{</span> <span class="nx">MATCH</span><span class="o">:</span> <span class="s1">&#39;*11*&#39;</span><span class="p">,</span> <span class="nx">COUNT</span><span class="o">:</span> <span class="mi">1000</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scanResult</span><span class="p">.</span><span class="nx">cursor</span><span class="p">,</span> <span class="nx">scanResult</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan3Res1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">geoAdd</span><span class="p">(</span><span class="s1">&#39;geokey&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">longitude</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">latitude</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">member</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan3Res1</span><span class="p">);</span> <span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan3Res2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">zAdd</span><span class="p">(</span><span class="s1">&#39;zkey&#39;</span><span class="p">,</span> <span class="p">[{</span> <span class="nx">score</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span> <span class="p">}]);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan3Res2</span><span class="p">);</span> <span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan3Res3</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;geokey&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan3Res3</span><span class="p">);</span> <span class="c1">// zset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan3Res4</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;zkey&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan3Res4</span><span class="p">);</span> <span class="c1">// zset
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan3Res5</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">TYPE</span><span class="o">:</span> <span class="s1">&#39;zset&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan3Res5</span><span class="p">.</span><span class="nx">keys</span><span class="p">);</span> <span class="c1">// [&#39;zkey&#39;, &#39;geokey&#39;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan4Res1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">hSet</span><span class="p">(</span><span class="s1">&#39;myhash&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan4Res1</span><span class="p">);</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan4Res2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">hScan</span><span class="p">(</span><span class="s1">&#39;myhash&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scan4Res2</span><span class="p">.</span><span class="nx">tuples</span><span class="p">);</span> <span class="c1">// [{field: &#39;a&#39;, value: &#39;1&#39;}, {field: &#39;b&#39;, value: &#39;2&#39;}]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">scan4Res3</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">hScan</span><span class="p">(</span><span class="s1">&#39;myhash&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">{</span> <span class="nx">COUNT</span><span class="o">:</span> <span class="mi">10</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">scan4Res3</span><span class="p">.</span><span class="nx">tuples</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">field</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span> <span class="c1">// [&#39;a&#39;, &#39;b&#39;]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">quit</span><span class="p">();</span>
</span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_Nodejs_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            
            <button tabindex="1" class="visibility-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-2 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Toggle visibility" aria-controls="panel_Nodejs_cmds_generic-stepexpire" onclick="toggleVisibleLines(this)">
                
                    
                </svg>
                
                    
                </svg>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
              
              <a href='https://redis.io/docs/latest/develop/clients/nodejs/' tabindex="1" class="rounded rounded-mx px-3 py-1 text-white text-xs
                                hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                                focus:ring-2 focus:white focus:border-slate-500" title="Quick-Start">
                Node.js Quick-Start
              </a>
              <div class="w-1/2"></div>
              <div class="flex-1 text-right">
                <a href='https://github.com/redis/node-redis/tree/emb-examples/doctests/cmds-generic.js' tabindex="1" class="button text-neutral-400 hover:text-slate-100 h-6 w-6 p-1" title="Improve this code example">
                  
                    
                  </svg>
                </a>
              </div>
           
           </div>
           
        </div>

    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="Java-Sync_cmds_generic-stepexpire" data-lang="Java-Sync" class="radiotab w-0 h-0"
               
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="Java-Sync_cmds_generic-stepexpire">
            
                Java-Sync
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_Java-Sync_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">redis.clients.jedis.UnifiedJedis</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">redis.clients.jedis.args.ExpiryOption</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CmdsGenericExample</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">UnifiedJedis</span><span class="w"> </span><span class="n">jedis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UnifiedJedis</span><span class="p">(</span><span class="s">&#34;redis://localhost:6379&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">delResult1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;key1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">delResult1</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; OK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">delResult2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;key2&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;World&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">delResult2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; OK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">delResult3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">del</span><span class="p">(</span><span class="s">&#34;key1&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;key2&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;key3&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">delResult3</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Tests for &#39;del&#39; step.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">expireResult1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult1</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; OK</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">expire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult2</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; 1</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">ttl</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult3</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; 10</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">expireResult4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Hello World&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult4</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; OK</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">ttl</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult5</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; -1</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">expire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">10</span><span class="p">,</span><span class="w"> </span><span class="n">ExpiryOption</span><span class="p">.</span><span class="na">XX</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult6</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; 0</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">ttl</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult7</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; -1</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">expire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">10</span><span class="p">,</span><span class="w"> </span><span class="n">ExpiryOption</span><span class="p">.</span><span class="na">NX</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult8</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; 1</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">expireResult9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">ttl</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">expireResult9</span><span class="p">);</span><span class="w">  </span><span class="c1">// &gt;&gt;&gt; 10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Tests for &#39;expire&#39; step.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">ttlResult1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ttlResult1</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; OK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">ttlResult2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">expire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ttlResult2</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">ttlResult3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jedis</span><span class="p">.</span><span class="na">ttl</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ttlResult3</span><span class="p">);</span><span class="w"> </span><span class="c1">// &gt;&gt;&gt; 10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Tests for &#39;ttl&#39; step.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">jedis</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_Java-Sync_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            
            <button tabindex="1" class="visibility-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-2 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Toggle visibility" aria-controls="panel_Java-Sync_cmds_generic-stepexpire" onclick="toggleVisibleLines(this)">
                
                    
                </svg>
                
                    
                </svg>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
              
              <a href='https://redis.io/docs/latest/develop/clients/jedis/' tabindex="1" class="rounded rounded-mx px-3 py-1 text-white text-xs
                                hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                                focus:ring-2 focus:white focus:border-slate-500" title="Quick-Start">
                Java-Sync Quick-Start
              </a>
              <div class="w-1/2"></div>
              <div class="flex-1 text-right">
                <a href='https://github.com/redis/jedis/tree/master/src/test/java/io/redis/examples/CmdsGenericExample.java' tabindex="1" class="button text-neutral-400 hover:text-slate-100 h-6 w-6 p-1" title="Improve this code example">
                  
                    
                  </svg>
                </a>
              </div>
           
           </div>
           
        </div>

    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="Go_cmds_generic-stepexpire" data-lang="Go" class="radiotab w-0 h-0"
               
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="Go_cmds_generic-stepexpire">
            
                Go
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_Go_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">example_commands_test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;math&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/redis/go-redis/v9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ExampleClient_del_cmd</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">rdb</span> <span class="o">:=</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">redis</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Addr</span><span class="p">:</span>     <span class="s">&#34;localhost:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Password</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="c1">// no password docs</span>
</span></span><span class="line"><span class="cl">		<span class="nx">DB</span><span class="p">:</span>       <span class="mi">0</span><span class="p">,</span>  <span class="c1">// use default DB</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">delResult1</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;key1&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">delResult1</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; OK</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">delResult2</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;key2&#34;</span><span class="p">,</span> <span class="s">&#34;World&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">delResult2</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; OK</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">delResult3</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Del</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;key1&#34;</span><span class="p">,</span> <span class="s">&#34;key2&#34;</span><span class="p">,</span> <span class="s">&#34;key3&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">delResult3</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ExampleClient_expire_cmd</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">rdb</span> <span class="o">:=</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">redis</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Addr</span><span class="p">:</span>     <span class="s">&#34;localhost:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Password</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="c1">// no password docs</span>
</span></span><span class="line"><span class="cl">		<span class="nx">DB</span><span class="p">:</span>       <span class="mi">0</span><span class="p">,</span>  <span class="c1">// use default DB</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult1</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult1</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; OK</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult2</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Expire</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult2</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult3</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">TTL</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="nx">expireResult3</span><span class="p">.</span><span class="nf">Seconds</span><span class="p">()))</span> <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult4</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello World&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult4</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; OK</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult5</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">TTL</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult5</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; -1ns</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult6</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">ExpireXX</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult6</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; false</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult7</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">TTL</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult7</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; -1ns</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult8</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">ExpireNX</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">expireResult8</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">expireResult9</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">TTL</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line hl"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line hl"><span class="cl">	<span class="p">}</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="nx">expireResult9</span><span class="p">.</span><span class="nf">Seconds</span><span class="p">()))</span> <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ExampleClient_ttl_cmd</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">rdb</span> <span class="o">:=</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">redis</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Addr</span><span class="p">:</span>     <span class="s">&#34;localhost:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Password</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="c1">// no password docs</span>
</span></span><span class="line"><span class="cl">		<span class="nx">DB</span><span class="p">:</span>       <span class="mi">0</span><span class="p">,</span>  <span class="c1">// use default DB</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">ttlResult1</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">ttlResult1</span><span class="p">)</span> <span class="c1">// &gt;&gt;&gt; OK</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">ttlResult2</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">TTL</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;mykey&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="nx">ttlResult2</span><span class="p">.</span><span class="nf">Seconds</span><span class="p">()))</span> <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_Go_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            
            <button tabindex="1" class="visibility-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-2 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Toggle visibility" aria-controls="panel_Go_cmds_generic-stepexpire" onclick="toggleVisibleLines(this)">
                
                    
                </svg>
                
                    
                </svg>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
              
              <a href='https://redis.io/docs/latest/develop/clients/go/' tabindex="1" class="rounded rounded-mx px-3 py-1 text-white text-xs
                                hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                                focus:ring-2 focus:white focus:border-slate-500" title="Quick-Start">
                Go Quick-Start
              </a>
              <div class="w-1/2"></div>
              <div class="flex-1 text-right">
                <a href='https://github.com/redis/go-redis/tree/master/doctests/cmds_generic_test.go' tabindex="1" class="button text-neutral-400 hover:text-slate-100 h-6 w-6 p-1" title="Improve this code example">
                  
                    
                  </svg>
                </a>
              </div>
           
           </div>
           
        </div>

    
        
        
        
        
        <input tabindex="1" type="radio" name="cmds_generic-stepexpire" id="Csharp_cmds_generic-stepexpire" data-lang="dotnet" class="radiotab w-0 h-0"
               
        />
        <label class="justify-left label ml-1.5 pt-3.5 px-1 pb-1 cursor-pointer text-sm text-center bg-redis-ink-900
        hover:text-redis-red-600  rounded rounded-mx transition duration-150 ease-in-out"
               title="Open example" for="Csharp_cmds_generic-stepexpire">
            
                C#
            
        </label>

        <div class="panel order-last hidden w-full mt-0  relative" id="panel_Csharp_cmds_generic-stepexpire" role="tabpanel" tabindex="0" aria-labelledby="tab-cmds_generic-stepexpire">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">NRedisStack.Tests</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">StackExchange.Redis</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">CmdsGenericExample</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">run</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">muxer</span> <span class="p">=</span> <span class="n">ConnectionMultiplexer</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="s">&#34;localhost:6379&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">db</span> <span class="p">=</span> <span class="n">muxer</span><span class="p">.</span><span class="n">GetDatabase</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;copy&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">delResult1</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">StringSet</span><span class="p">(</span><span class="s">&#34;key1&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">delResult1</span><span class="p">);</span>  <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">delResult2</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">StringSet</span><span class="p">(</span><span class="s">&#34;key2&#34;</span><span class="p">,</span> <span class="s">&#34;World&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">delResult2</span><span class="p">);</span>  <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">long</span> <span class="n">delResult3</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyDelete</span><span class="p">(</span><span class="k">new</span> <span class="n">RedisKey</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&#34;key1&#34;</span><span class="p">,</span> <span class="s">&#34;key2&#34;</span><span class="p">,</span> <span class="s">&#34;key3&#34;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">delResult3</span><span class="p">);</span>  <span class="c1">// &gt;&gt;&gt; 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;del&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;dump&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;exists&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="kt">bool</span> <span class="n">expireResult1</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">StringSet</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">expireResult1</span><span class="p">);</span>   <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="kt">bool</span> <span class="n">expireResult2</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyExpire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="k">new</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">));</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">expireResult2</span><span class="p">);</span>   <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">expireResult3</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyTimeToLive</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">)</span> <span class="p">??</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">expireResult3</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">));</span>   <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="kt">bool</span> <span class="n">expireResult4</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">StringSet</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello World&#34;</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">expireResult4</span><span class="p">);</span>   <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">expireResult5</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyTimeToLive</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">)</span> <span class="p">??</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">expireResult5</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">).</span><span class="n">ToString</span><span class="p">());</span>   <span class="c1">// &gt;&gt;&gt; 0</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="kt">bool</span> <span class="n">expireResult6</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyExpire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="k">new</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">),</span> <span class="n">ExpireWhen</span><span class="p">.</span><span class="n">HasExpiry</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">expireResult6</span><span class="p">);</span>   <span class="c1">// &gt;&gt;&gt; false</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">expireResult7</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyTimeToLive</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">)</span> <span class="p">??</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">expireResult7</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">));</span>   <span class="c1">// &gt;&gt;&gt; 0</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="kt">bool</span> <span class="n">expireResult8</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyExpire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="k">new</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">),</span> <span class="n">ExpireWhen</span><span class="p">.</span><span class="n">HasNoExpiry</span><span class="p">);</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">expireResult8</span><span class="p">);</span>   <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line hl"><span class="cl">
</span></span><span class="line hl"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">expireResult9</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyTimeToLive</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">)</span> <span class="p">??</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
</span></span><span class="line hl"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">expireResult9</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">));</span>   <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;expire&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;expireat&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;expiretime&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;keys&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;migrate&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;move&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;object_encoding&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;object_freq&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;object_idletime&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;object_refcount&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;persist&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;pexpire&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;pexpireat&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;pexpiretime&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;pttl&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;randomkey&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;rename&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;renamenx&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;restore&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;scan1&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;scan2&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;scan3&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;scan4&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;sort&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;sort_ro&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;touch&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">ttlResult1</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">StringSet</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="s">&#34;Hello&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ttlResult1</span><span class="p">);</span>  <span class="c1">// &gt;&gt;&gt; true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="n">ttlResult2</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyExpire</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">,</span> <span class="k">new</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ttlResult2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">TimeSpan</span> <span class="n">ttlResult3</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">KeyTimeToLive</span><span class="p">(</span><span class="s">&#34;mykey&#34;</span><span class="p">)</span> <span class="p">??</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">string</span> <span class="n">ttlRes</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">ttlResult3</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">).</span><span class="n">ToString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">Round</span><span class="p">(</span><span class="n">ttlResult3</span><span class="p">.</span><span class="n">TotalSeconds</span><span class="p">));</span> <span class="c1">// &gt;&gt;&gt; 10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;ttl&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;type&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;unlink&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;wait&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Tests for &#39;waitaof&#39; step.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span></code></pre></div>
            <button tabindex="1" class="clipboard-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-10 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Copy to clipboard" onclick="copyCodeToClipboard('#panel_Csharp_cmds_generic-stepexpire')">
                
                    
                </svg>
                <div class="tooltip relative inline-block">
                    <span class="tooltiptext hidden bg-slate-200 rounded rounded-mx text-slate-800 text-center text-xs p-1 absolute right-6 bottom-4">Copied!</span>
                </div>
            </button>
            
            <button tabindex="1" class="visibility-button text-neutral-400 hover:text-slate-100 bg-slate-600 absolute -top-8 right-2 h-7 w-7 mr-2 mt-2 p-1 rounded rounded-mx"
                    title="Toggle visibility" aria-controls="panel_Csharp_cmds_generic-stepexpire" onclick="toggleVisibleLines(this)">
                
                    
                </svg>
                
                    
                </svg>
            </button>
            

            
            <div class="cli-footer flex items-center justify-between rounded-b-md bg-slate-900 mt-0 px-4 pt-0 mb-0 transition-opacity ease-in-out duration-300 opacity-0 invisible
group-hover:opacity-100 group-hover:visible">
            
              
              <a href='https://redis.io/docs/latest/develop/clients/dotnet/' tabindex="1" class="rounded rounded-mx px-3 py-1 text-white text-xs
                                hover:text-white hover:bg-slate-600 hover:border-transparent focus:outline-none
                                focus:ring-2 focus:white focus:border-slate-500" title="Quick-Start">
                C# Quick-Start
              </a>
              <div class="w-1/2"></div>
              <div class="flex-1 text-right">
                <a href='https://github.com/redis/NRedisStack/tree/master/tests/Doc/CmdsGenericExample.cs' tabindex="1" class="button text-neutral-400 hover:text-slate-100 h-6 w-6 p-1" title="Improve this code example">
                  
                    
                  </svg>
                </a>
              </div>
           
           </div>
           
        </div>

    

</div>




<p>Give these commands a try in the interactive console:</p>
<div class="bg-slate-900 border-b border-slate-700 rounded-t-xl px-4 py-3 w-full flex">
  
    </path>
</svg>
  
    </path>
</svg>
  
    </path>
</svg>
</div>  
<form class="redis-cli overflow-y-auto max-h-80">
SET mykey "Hello"
EXPIRE mykey 10
TTL mykey
SET mykey "Hello World"
TTL mykey
EXPIRE mykey 10 XX
TTL mykey
EXPIRE mykey 10 NX
TTL mykey
</form>
<h2 id="pattern-navigation-session">Pattern: Navigation session</h2>
<p>Imagine you have a web service and you are interested in the latest N pages
<em>recently</em> visited by your users, such that each adjacent page view was not
performed more than 60 seconds after the previous.
Conceptually you may consider this set of page views as a <em>Navigation session</em>
of your user, that may contain interesting information about what kind of
products he or she is looking for currently, so that you can recommend related
products.</p>
<p>You can easily model this pattern in Redis using the following strategy: every
time the user does a page view you call the following commands:</p>
<pre tabindex="0"><code>MULTI
RPUSH pagewviews.user:&lt;userid&gt; http://.....
EXPIRE pagewviews.user:&lt;userid&gt; 60
EXEC
</code></pre><p>If the user will be idle more than 60 seconds, the key will be deleted and only
subsequent page views that have less than 60 seconds of difference will be
recorded.</p>
<p>This pattern is easily modified to use counters using <a href="/docs/latest/commands/incr/"><code>INCR</code></a> instead of lists
using <a href="/docs/latest/commands/rpush/"><code>RPUSH</code></a>.</p>
<h2 id="appendix-redis-expires">Appendix: Redis expires</h2>
<h3 id="keys-with-an-expire">Keys with an expire</h3>
<p>Normally Redis keys are created without an associated time to live.
The key will simply live forever, unless it is removed by the user in an
explicit way, for instance using the <a href="/docs/latest/commands/del/"><code>DEL</code></a> command.</p>
<p>The <code>EXPIRE</code> family of commands is able to associate an expire to a given key,
at the cost of some additional memory used by the key.
When a key has an expire set, Redis will make sure to remove the key when the
specified amount of time elapsed.</p>
<p>The key time to live can be updated or entirely removed using the <code>EXPIRE</code> and
<a href="/docs/latest/commands/persist/"><code>PERSIST</code></a> command (or other strictly related commands).</p>
<h3 id="expire-accuracy">Expire accuracy</h3>
<p>In Redis 2.4 the expire might not be pin-point accurate, and it could be between
zero to one seconds out.</p>
<p>Since Redis 2.6 the expire error is from 0 to 1 milliseconds.</p>
<h3 id="expires-and-persistence">Expires and persistence</h3>
<p>Keys expiring information is stored as absolute Unix timestamps (in milliseconds
in case of Redis version 2.6 or greater).
This means that the time is flowing even when the Redis instance is not active.</p>
<p>For expires to work well, the computer time must be taken stable.
If you move an RDB file from two computers with a big desync in their clocks,
funny things may happen (like all the keys loaded to be expired at loading
time).</p>
<p>Even running instances will always check the computer clock, so for instance if
you set a key with a time to live of 1000 seconds, and then set your computer
time 2000 seconds in the future, the key will be expired immediately, instead of
lasting for 1000 seconds.</p>
<h3 id="how-redis-expires-keys">How Redis expires keys</h3>
<p>Redis keys are expired in two ways: a passive way and an active way.</p>
<p>A key is passively expired when a client tries to access it and the
key is timed out.</p>
<p>However, this is not enough as there are expired keys that will never be
accessed again.
These keys should be expired anyway, so periodically, Redis tests a few keys at
random amongst the set of keys with an expiration.
All the keys that are already expired are deleted from the keyspace.</p>
<h3 id="how-expires-are-handled-in-the-replication-link-and-aof-file">How expires are handled in the replication link and AOF file</h3>
<p>In order to obtain a correct behavior without sacrificing consistency, when a
key expires, a <a href="/docs/latest/commands/del/"><code>DEL</code></a> operation is synthesized in both the AOF file and gains all
the attached replicas nodes.
This way the expiration process is centralized in the master instance, and there
is no chance of consistency errors.</p>
<p>However while the replicas connected to a master will not expire keys
independently (but will wait for the <a href="/docs/latest/commands/del/"><code>DEL</code></a> coming from the master), they'll
still take the full state of the expires existing in the dataset, so when a
replica is elected to master it will be able to expire the keys independently,
fully acting as a master.</p>


        
        
        
          
          
          
          
            
            
            <h2 id="resp2resp3-reply">RESP2/RESP3 Reply</h2>

          

          
          
            
              
              
              
                
              
                
              
                
              
              
              <p>One of the following:</p>
<ul>
<li><a href="../../develop/reference/protocol-spec#integers">Integer reply</a>: <code>0</code> if the timeout was not set; for example, the key doesn't exist, or the operation was skipped because of the provided arguments.</li>
<li><a href="../../develop/reference/protocol-spec#integers">Integer reply</a>: <code>1</code> if the timeout was set.</li>
</ul>
            
          
        
        <br />

        
          <h2>History</h2>
          <ul>
            
            <li>Starting with Redis version 7.0.0: Added options: <code>NX</code>, <code>XX</code>, <code>GT</code> and <code>LT</code>.</li>
            
          </ul>
        

        
<form id="page-feedback" name="page-feedback" class="text-sm w-full mt-24 pt-5 border-t border-t-redis-pen-700 border-opacity-50">
  <input name="origin" value="https://redis.io/docs/latest/commands/expire/" class="hidden"/>
  <div class="flex flex-row justify-between">
    <div class="grid justify-center">
      <span class="font-mono">RATE THIS PAGE</span>
      <div class="star-rating">
        
        <input type="radio" id="5-stars" name="rating" value="5" onchange="document.querySelector('#feedback-form').classList.remove('hidden')"/>
        <label for="5-stars" class="star">&#9733;</label>
        
        <input type="radio" id="4-stars" name="rating" value="4" onchange="document.querySelector('#feedback-form').classList.remove('hidden')"/>
        <label for="4-stars" class="star">&#9733;</label>
        
        <input type="radio" id="3-stars" name="rating" value="3" onchange="document.querySelector('#feedback-form').classList.remove('hidden')"/>
        <label for="3-stars" class="star">&#9733;</label>
        
        <input type="radio" id="2-stars" name="rating" value="2" onchange="document.querySelector('#feedback-form').classList.remove('hidden')"/>
        <label for="2-stars" class="star">&#9733;</label>
        
        <input type="radio" id="1-stars" name="rating" value="1" onchange="document.querySelector('#feedback-form').classList.remove('hidden')"/>
        <label for="1-stars" class="star">&#9733;</label>
        
      </div>
    </div>  
    <a href="#" class="font-mono no-underline">
      Back to top ↑
    </a>
  </div>
  <div id="feedback-form" class="hidden">
    <div class="grid gap-2">
      <textarea
        name="comment"
        placeholder="Why did you choose this rating?"
        class=" p-2 mt-1 block w-full h-24 border border-opacity-50 border-redis-ink-900 rounded-md"
        rows="3"
      ></textarea>
      <button class="font-mono button text-redis-ink-900 border border-solid border-transparent bg-redis-red-500 hover:bg-redis-red-600 focus:bg-red-600 focus:ring-red-600; w-min justify-self-end" type="submit">
        Submit
      </button>
    </div>
  </div>
</form>






      </section>
    </div>

    

  </main>


    

    
    

    

<div class="sr-only w-screen h-screen fixed z-[200] top-0 left-0 cursor-auto flex flex-col bg-redis-ink-900/75 p-4 sm:p-6 md:p-[10vh] lg:p-[12vh]" id="search-container" role="button" aria-expanded="true" aria-haspopup="listbox" aria-labelledby="search-label" tabindex="0">
<div class="my-0 mx-auto w-full max-w-[47.375rem] flex flex-col min-h-0 rounded-lg shadow-lg bg-white p-6 gap-4">
  
  <dl id="search-results" class="min-h-48 overflow-auto px-2" role="listbox"></dl>
</div>
</div>


  </body>
</html>
