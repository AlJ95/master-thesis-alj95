<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: 5.6. Modifying Tables</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/ddl-alter.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="5.6. Modifying Tables" />
  <meta property="og:description" content="5.6.&amp;nbsp;Modifying Tables 5.6.1. Adding a Column 5.6.2. Removing a Column 5.6.3. Adding a Constraint 5.6.4. Removing a Constraint 5.6.5. Changing …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/ddl-alter.html" title="PostgreSQL 17 - 5.6. Modifying Tables" >Current</a>
                          (<a href="/docs/17/ddl-alter.html" title="PostgreSQL 17 - 5.6. Modifying Tables" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/ddl-alter.html" title="PostgreSQL 16 - 5.6. Modifying Tables" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/ddl-alter.html" title="PostgreSQL 15 - 5.6. Modifying Tables" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/ddl-alter.html" title="PostgreSQL 14 - 5.6. Modifying Tables" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/ddl-alter.html" title="PostgreSQL 13 - 5.6. Modifying Tables" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/ddl-alter.html" title="PostgreSQL devel - 5.6. Modifying Tables"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/ddl-alter.html" title="PostgreSQL 12 - 5.6. Modifying Tables"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/ddl-alter.html" title="PostgreSQL 11 - 5.6. Modifying Tables"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/ddl-alter.html" title="PostgreSQL 10 - 5.6. Modifying Tables"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/ddl-alter.html" title="PostgreSQL 9.6 - 5.6. Modifying Tables"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/ddl-alter.html" title="PostgreSQL 9.5 - 5.6. Modifying Tables"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/ddl-alter.html" title="PostgreSQL 9.4 - 5.6. Modifying Tables"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/ddl-alter.html" title="PostgreSQL 9.3 - 5.6. Modifying Tables"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/ddl-alter.html" title="PostgreSQL 9.2 - 5.6. Modifying Tables"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/ddl-alter.html" title="PostgreSQL 9.1 - 5.6. Modifying Tables"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/ddl-alter.html" title="PostgreSQL 9.0 - 5.6. Modifying Tables"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/ddl-alter.html" title="PostgreSQL 8.4 - 5.6. Modifying Tables"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/ddl-alter.html" title="PostgreSQL 8.3 - 5.6. Modifying Tables"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/ddl-alter.html" title="PostgreSQL 8.2 - 5.6. Modifying Tables"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/ddl-alter.html" title="PostgreSQL 8.1 - 5.6. Modifying Tables"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/ddl-alter.html" title="PostgreSQL 8.0 - 5.6. Modifying Tables"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/ddl-alter.html" title="PostgreSQL 7.4 - 5.6. Modifying Tables"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/ddl-alter.html" title="PostgreSQL 7.3 - 5.6. Modifying Tables"  rel="nofollow">7.3</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">5.6.&nbsp;Modifying Tables</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="ddl-system-columns.html" title="5.5.&nbsp;System Columns">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="ddl.html" title="Chapter&nbsp;5.&nbsp;Data Definition">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;5.&nbsp;Data Definition</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="ddl-priv.html" title="5.7.&nbsp;Privileges">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="DDL-ALTER">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">5.6.&nbsp;Modifying Tables</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="ddl-alter.html#DDL-ALTER-ADDING-A-COLUMN">5.6.1. Adding a Column</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#DDL-ALTER-REMOVING-A-COLUMN">5.6.2. Removing a Column</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#DDL-ALTER-ADDING-A-CONSTRAINT">5.6.3. Adding a Constraint</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#DDL-ALTER-REMOVING-A-CONSTRAINT">5.6.4. Removing a Constraint</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#id-1.5.4.8.9">5.6.5. Changing a Column's Default Value</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#id-1.5.4.8.10">5.6.6. Changing a Column's Data Type</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#id-1.5.4.8.11">5.6.7. Renaming a Column</a></span></dt>
      <dt><span class="sect2"><a href="ddl-alter.html#id-1.5.4.8.12">5.6.8. Renaming a Table</a></span></dt>
    </dl>
  </div><a id="id-1.5.4.8.2" class="indexterm" name="id-1.5.4.8.2"></a>
  <p>When you create a table and you realize that you made a mistake, or the requirements of the application change, you can drop the table and create it again. But this is not a convenient option if the table is already filled with data, or if the table is referenced by other database objects (for instance a foreign key constraint). Therefore <span class="productname">PostgreSQL</span> provides a family of commands to make modifications to existing tables. Note that this is conceptually distinct from altering the data contained in the table: here we are interested in altering the definition, or structure, of the table.</p>
  <p>You can:</p>
  <div class="itemizedlist">
    <ul class="itemizedlist compact" style="list-style-type: disc;">
      <li class="listitem">
        <p>Add columns</p>
      </li>
      <li class="listitem">
        <p>Remove columns</p>
      </li>
      <li class="listitem">
        <p>Add constraints</p>
      </li>
      <li class="listitem">
        <p>Remove constraints</p>
      </li>
      <li class="listitem">
        <p>Change default values</p>
      </li>
      <li class="listitem">
        <p>Change column data types</p>
      </li>
      <li class="listitem">
        <p>Rename columns</p>
      </li>
      <li class="listitem">
        <p>Rename tables</p>
      </li>
    </ul>
  </div>
  <p>All these actions are performed using the <a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a> command, whose reference page contains details beyond those given here.</p>
  <div class="sect2" id="DDL-ALTER-ADDING-A-COLUMN">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.1.&nbsp;Adding a Column</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.5.2" class="indexterm" name="id-1.5.4.8.5.2"></a>
    <p>To add a column, use a command like:</p>
    <pre class="programlisting">
ALTER TABLE products ADD COLUMN description text;
</pre>
    <p>The new column is initially filled with whatever default value is given (null if you don't specify a <code class="literal">DEFAULT</code> clause).</p>
    <div class="tip">
      <h3 class="title">Tip</h3>
      <p>From <span class="productname">PostgreSQL</span> 11, adding a column with a constant default value no longer means that each row of the table needs to be updated when the <code class="command">ALTER TABLE</code> statement is executed. Instead, the default value will be returned the next time the row is accessed, and applied when the table is rewritten, making the <code class="command">ALTER TABLE</code> very fast even on large tables.</p>
      <p>However, if the default value is volatile (e.g., <code class="function">clock_timestamp()</code>) each row will need to be updated with the value calculated at the time <code class="command">ALTER TABLE</code> is executed. To avoid a potentially lengthy update operation, particularly if you intend to fill the column with mostly nondefault values anyway, it may be preferable to add the column with no default, insert the correct values using <code class="command">UPDATE</code>, and then add any desired default as described below.</p>
    </div>
    <p>You can also define constraints on the column at the same time, using the usual syntax:</p>
    <pre class="programlisting">
ALTER TABLE products ADD COLUMN description text CHECK (description &lt;&gt; '');
</pre>
    <p>In fact all the options that can be applied to a column description in <code class="command">CREATE TABLE</code> can be used here. Keep in mind however that the default value must satisfy the given constraints, or the <code class="literal">ADD</code> will fail. Alternatively, you can add constraints later (see below) after you've filled in the new column correctly.</p>
  </div>
  <div class="sect2" id="DDL-ALTER-REMOVING-A-COLUMN">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.2.&nbsp;Removing a Column</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.6.2" class="indexterm" name="id-1.5.4.8.6.2"></a>
    <p>To remove a column, use a command like:</p>
    <pre class="programlisting">
ALTER TABLE products DROP COLUMN description;
</pre>
    <p>Whatever data was in the column disappears. Table constraints involving the column are dropped, too. However, if the column is referenced by a foreign key constraint of another table, <span class="productname">PostgreSQL</span> will not silently drop that constraint. You can authorize dropping everything that depends on the column by adding <code class="literal">CASCADE</code>:</p>
    <pre class="programlisting">
ALTER TABLE products DROP COLUMN description CASCADE;
</pre>
    <p>See <a class="xref" href="ddl-depend.html" title="5.14.&nbsp;Dependency Tracking">Section&nbsp;5.14</a> for a description of the general mechanism behind this.</p>
  </div>
  <div class="sect2" id="DDL-ALTER-ADDING-A-CONSTRAINT">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.3.&nbsp;Adding a Constraint</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.7.2" class="indexterm" name="id-1.5.4.8.7.2"></a>
    <p>To add a constraint, the table constraint syntax is used. For example:</p>
    <pre class="programlisting">
ALTER TABLE products ADD CHECK (name &lt;&gt; '');
ALTER TABLE products ADD CONSTRAINT some_name UNIQUE (product_no);
ALTER TABLE products ADD FOREIGN KEY (product_group_id) REFERENCES product_groups;
</pre>
    <p>To add a not-null constraint, which cannot be written as a table constraint, use this syntax:</p>
    <pre class="programlisting">
ALTER TABLE products ALTER COLUMN product_no SET NOT NULL;
</pre>
    <p>The constraint will be checked immediately, so the table data must satisfy the constraint before it can be added.</p>
  </div>
  <div class="sect2" id="DDL-ALTER-REMOVING-A-CONSTRAINT">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.4.&nbsp;Removing a Constraint</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.8.2" class="indexterm" name="id-1.5.4.8.8.2"></a>
    <p>To remove a constraint you need to know its name. If you gave it a name then that's easy. Otherwise the system assigned a generated name, which you need to find out. The <span class="application">psql</span> command <code class="literal">\d <em class="replaceable"><code>tablename</code></em></code> can be helpful here; other interfaces might also provide a way to inspect table details. Then the command is:</p>
    <pre class="programlisting">
ALTER TABLE products DROP CONSTRAINT some_name;
</pre>
    <p>(If you are dealing with a generated constraint name like <code class="literal">$2</code>, don't forget that you'll need to double-quote it to make it a valid identifier.)</p>
    <p>As with dropping a column, you need to add <code class="literal">CASCADE</code> if you want to drop a constraint that something else depends on. An example is that a foreign key constraint depends on a unique or primary key constraint on the referenced column(s).</p>
    <p>This works the same for all constraint types except not-null constraints. To drop a not null constraint use:</p>
    <pre class="programlisting">
ALTER TABLE products ALTER COLUMN product_no DROP NOT NULL;
</pre>
    <p>(Recall that not-null constraints do not have names.)</p>
  </div>
  <div class="sect2" id="id-1.5.4.8.9">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.5.&nbsp;Changing a Column's Default Value</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.9.2" class="indexterm" name="id-1.5.4.8.9.2"></a>
    <p>To set a new default for a column, use a command like:</p>
    <pre class="programlisting">
ALTER TABLE products ALTER COLUMN price SET DEFAULT 7.77;
</pre>
    <p>Note that this doesn't affect any existing rows in the table, it just changes the default for future <code class="command">INSERT</code> commands.</p>
    <p>To remove any default value, use:</p>
    <pre class="programlisting">
ALTER TABLE products ALTER COLUMN price DROP DEFAULT;
</pre>
    <p>This is effectively the same as setting the default to null. As a consequence, it is not an error to drop a default where one hadn't been defined, because the default is implicitly the null value.</p>
  </div>
  <div class="sect2" id="id-1.5.4.8.10">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.6.&nbsp;Changing a Column's Data Type</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.10.2" class="indexterm" name="id-1.5.4.8.10.2"></a>
    <p>To convert a column to a different data type, use a command like:</p>
    <pre class="programlisting">
ALTER TABLE products ALTER COLUMN price TYPE numeric(10,2);
</pre>
    <p>This will succeed only if each existing entry in the column can be converted to the new type by an implicit cast. If a more complex conversion is needed, you can add a <code class="literal">USING</code> clause that specifies how to compute the new values from the old.</p>
    <p><span class="productname">PostgreSQL</span> will attempt to convert the column's default value (if any) to the new type, as well as any constraints that involve the column. But these conversions might fail, or might produce surprising results. It's often best to drop any constraints on the column before altering its type, and then add back suitably modified constraints afterwards.</p>
  </div>
  <div class="sect2" id="id-1.5.4.8.11">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.7.&nbsp;Renaming a Column</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.11.2" class="indexterm" name="id-1.5.4.8.11.2"></a>
    <p>To rename a column:</p>
    <pre class="programlisting">
ALTER TABLE products RENAME COLUMN product_no TO product_number;
</pre>
  </div>
  <div class="sect2" id="id-1.5.4.8.12">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">5.6.8.&nbsp;Renaming a Table</h3>
        </div>
      </div>
    </div><a id="id-1.5.4.8.12.2" class="indexterm" name="id-1.5.4.8.12.2"></a>
    <p>To rename a table:</p>
    <pre class="programlisting">
ALTER TABLE products RENAME TO items;
</pre>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="ddl-system-columns.html" title="5.5.&nbsp;System Columns">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="ddl.html" title="Chapter&nbsp;5.&nbsp;Data Definition">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="ddl-priv.html" title="5.7.&nbsp;Privileges">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">5.5.&nbsp;System Columns&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;5.7.&nbsp;Privileges</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/ddl-alter.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
