<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: ecpg</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/app-ecpg.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="ecpg" />
  <meta property="og:description" content="ecpg ecpg — embedded SQL C preprocessor Synopsis ecpg [option...] file... Description ecpg is the embedded SQL preprocessor for C …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/app-ecpg.html" title="PostgreSQL 17 - ecpg" >Current</a>
                          (<a href="/docs/17/app-ecpg.html" title="PostgreSQL 17 - ecpg" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/app-ecpg.html" title="PostgreSQL 16 - ecpg" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/app-ecpg.html" title="PostgreSQL 15 - ecpg" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/app-ecpg.html" title="PostgreSQL 14 - ecpg" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/app-ecpg.html" title="PostgreSQL 13 - ecpg" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/app-ecpg.html" title="PostgreSQL devel - ecpg"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/app-ecpg.html" title="PostgreSQL 12 - ecpg"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/app-ecpg.html" title="PostgreSQL 11 - ecpg"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/app-ecpg.html" title="PostgreSQL 10 - ecpg"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/app-ecpg.html" title="PostgreSQL 9.6 - ecpg"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/app-ecpg.html" title="PostgreSQL 9.5 - ecpg"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/app-ecpg.html" title="PostgreSQL 9.4 - ecpg"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/app-ecpg.html" title="PostgreSQL 9.3 - ecpg"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/app-ecpg.html" title="PostgreSQL 9.2 - ecpg"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/app-ecpg.html" title="PostgreSQL 9.1 - ecpg"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/app-ecpg.html" title="PostgreSQL 9.0 - ecpg"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/app-ecpg.html" title="PostgreSQL 8.4 - ecpg"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/app-ecpg.html" title="PostgreSQL 8.3 - ecpg"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/app-ecpg.html" title="PostgreSQL 8.2 - ecpg"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/app-ecpg.html" title="PostgreSQL 8.1 - ecpg"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/app-ecpg.html" title="PostgreSQL 8.0 - ecpg"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/app-ecpg.html" title="PostgreSQL 7.4 - ecpg"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/app-ecpg.html" title="PostgreSQL 7.3 - ecpg"  rel="nofollow">7.3</a>
                    
                       / 
                      <a href="/docs/7.2/app-ecpg.html" title="PostgreSQL 7.2 - ecpg"  rel="nofollow">7.2</a>
                    
                       / 
                      <a href="/docs/7.1/app-ecpg.html" title="PostgreSQL 7.1 - ecpg"  rel="nofollow">7.1</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center"><span xmlns="http://www.w3.org/1999/xhtml" class="application">ecpg</span></th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="app-dropuser.html" title="dropuser">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="reference-client.html" title="PostgreSQL Client Applications">Up</a></td>
      <th width="60%" align="center">PostgreSQL Client Applications</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="app-pgbasebackup.html" title="pg_basebackup">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="refentry" id="APP-ECPG">
  <div class="titlepage"></div><a id="id-1.9.4.8.1" class="indexterm" name="id-1.9.4.8.1"></a>
  <div class="refnamediv">
    <h2><span class="refentrytitle"><span class="application">ecpg</span></span></h2>
    <p><span class="application">ecpg</span> — embedded SQL C preprocessor</p>
  </div>
  <div class="refsynopsisdiv">
    <h2>Synopsis</h2>
    <div class="cmdsynopsis">
      <p id="id-1.9.4.8.4.1"><code class="command">ecpg</code> [<em class="replaceable"><code>option</code></em>...] <em class="replaceable"><code>file</code></em>...</p>
    </div>
  </div>
  <div class="refsect1" id="APP-ECPG-DESCRIPTION">
    <h2>Description</h2>
    <p><code class="command">ecpg</code> is the embedded SQL preprocessor for C programs. It converts C programs with embedded SQL statements to normal C code by replacing the SQL invocations with special function calls. The output files can then be processed with any C compiler tool chain.</p>
    <p><code class="command">ecpg</code> will convert each input file given on the command line to the corresponding C output file. If an input file name does not have any extension, <code class="filename">.pgc</code> is assumed. The file's extension will be replaced by <code class="filename">.c</code> to construct the output file name. But the output file name can be overridden using the <code class="option">-o</code> option.</p>
    <p>If an input file name is just <code class="literal">-</code>, <code class="command">ecpg</code> reads the program from standard input (and writes to standard output, unless that is overridden with <code class="option">-o</code>).</p>
    <p>This reference page does not describe the embedded SQL language. See <a class="xref" href="ecpg.html" title="Chapter&nbsp;35.&nbsp;ECPG — Embedded SQL in C">Chapter&nbsp;35</a> for more information on that topic.</p>
  </div>
  <div class="refsect1" id="id-1.9.4.8.6">
    <h2>Options</h2>
    <p><code class="command">ecpg</code> accepts the following command-line arguments:</p>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><code class="option">-c</code></span></dt>
        <dd>
          <p>Automatically generate certain C code from SQL code. Currently, this works for <code class="literal">EXEC SQL TYPE</code>.</p>
        </dd>
        <dt><span class="term"><code class="option">-C <em class="replaceable"><code>mode</code></em></code></span></dt>
        <dd>
          <p>Set a compatibility mode. <em class="replaceable"><code>mode</code></em> can be <code class="literal">INFORMIX</code>, <code class="literal">INFORMIX_SE</code>, or <code class="literal">ORACLE</code>.</p>
        </dd>
        <dt><span class="term"><code class="option">-D <em class="replaceable"><code>symbol</code></em>[=<em class="replaceable"><code>value</code></em>]</code></span></dt>
        <dd>
          <p>Define a preprocessor symbol, equivalently to the <code class="command">EXEC SQL DEFINE</code> directive. If no <em class="replaceable"><code>value</code></em> is specified, the symbol is defined with the value <code class="literal">1</code>.</p>
        </dd>
        <dt><span class="term"><code class="option">-h</code></span></dt>
        <dd>
          <p>Process header files. When this option is specified, the output file extension becomes <code class="literal">.h</code> not <code class="literal">.c</code>, and the default input file extension is <code class="literal">.pgh</code> not <code class="literal">.pgc</code>. Also, the <code class="option">-c</code> option is forced on.</p>
        </dd>
        <dt><span class="term"><code class="option">-i</code></span></dt>
        <dd>
          <p>Parse system include files as well.</p>
        </dd>
        <dt><span class="term"><code class="option">-I <em class="replaceable"><code>directory</code></em></code></span></dt>
        <dd>
          <p>Specify an additional include path, used to find files included via <code class="literal">EXEC SQL INCLUDE</code>. Defaults are <code class="filename">.</code> (current directory), <code class="filename">/usr/local/include</code>, the <span class="productname">PostgreSQL</span> include directory which is defined at compile time (default: <code class="filename">/usr/local/pgsql/include</code>), and <code class="filename">/usr/include</code>, in that order.</p>
        </dd>
        <dt><span class="term"><code class="option">-o <em class="replaceable"><code>filename</code></em></code></span></dt>
        <dd>
          <p>Specifies that <code class="command">ecpg</code> should write all its output to the given <em class="replaceable"><code>filename</code></em>. Write <code class="literal">-o -</code> to send all output to standard output.</p>
        </dd>
        <dt><span class="term"><code class="option">-r <em class="replaceable"><code>option</code></em></code></span></dt>
        <dd>
          <p>Selects run-time behavior. <em class="replaceable"><code>Option</code></em> can be one of the following:</p>
          <div class="variablelist">
            <dl class="variablelist">
              <dt><span class="term"><code class="option">no_indicator</code></span></dt>
              <dd>
                <p>Do not use indicators but instead use special values to represent null values. Historically there have been databases using this approach.</p>
              </dd>
              <dt><span class="term"><code class="option">prepare</code></span></dt>
              <dd>
                <p>Prepare all statements before using them. Libecpg will keep a cache of prepared statements and reuse a statement if it gets executed again. If the cache runs full, libecpg will free the least used statement.</p>
              </dd>
              <dt><span class="term"><code class="option">questionmarks</code></span></dt>
              <dd>
                <p>Allow question mark as placeholder for compatibility reasons. This used to be the default long ago.</p>
              </dd>
            </dl>
          </div>
        </dd>
        <dt><span class="term"><code class="option">-t</code></span></dt>
        <dd>
          <p>Turn on autocommit of transactions. In this mode, each SQL command is automatically committed unless it is inside an explicit transaction block. In the default mode, commands are committed only when <code class="command">EXEC SQL COMMIT</code> is issued.</p>
        </dd>
        <dt><span class="term"><code class="option">-v</code></span></dt>
        <dd>
          <p>Print additional information including the version and the "include" path.</p>
        </dd>
        <dt><span class="term"><code class="option">--version</code></span></dt>
        <dd>
          <p>Print the <span class="application">ecpg</span> version and exit.</p>
        </dd>
        <dt><span class="term"><code class="option">-?</code><br /></span><span class="term"><code class="option">--help</code></span></dt>
        <dd>
          <p>Show help about <span class="application">ecpg</span> command line arguments, and exit.</p>
        </dd>
      </dl>
    </div>
  </div>
  <div class="refsect1" id="id-1.9.4.8.7">
    <h2>Notes</h2>
    <p>When compiling the preprocessed C code files, the compiler needs to be able to find the <span class="application">ECPG</span> header files in the <span class="productname">PostgreSQL</span> include directory. Therefore, you might have to use the <code class="option">-I</code> option when invoking the compiler (e.g., <code class="literal">-I/usr/local/pgsql/include</code>).</p>
    <p>Programs using C code with embedded SQL have to be linked against the <code class="filename">libecpg</code> library, for example using the linker options <code class="literal">-L/usr/local/pgsql/lib -lecpg</code>.</p>
    <p>The value of either of these directories that is appropriate for the installation can be found out using <a class="xref" href="app-pgconfig.html" title="pg_config"><span class="refentrytitle">pg_config</span></a>.</p>
  </div>
  <div class="refsect1" id="id-1.9.4.8.8">
    <h2>Examples</h2>
    <p>If you have an embedded SQL C source file named <code class="filename">prog1.pgc</code>, you can create an executable program using the following sequence of commands:</p>
    <pre class="programlisting">
ecpg prog1.pgc
cc -I/usr/local/pgsql/include -c prog1.c
cc -o prog1 prog1.o -L/usr/local/pgsql/lib -lecpg
</pre>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="app-dropuser.html" title="dropuser">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="reference-client.html" title="PostgreSQL Client Applications">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="app-pgbasebackup.html" title="pg_basebackup">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top"><span xmlns="http://www.w3.org/1999/xhtml" class="application">dropuser</span>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;<span xmlns="http://www.w3.org/1999/xhtml" class="application">pg_basebackup</span></td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/app-ecpg.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
