<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: E.6. Release 13.15</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/release-13-15.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="E.6. Release 13.15" />
  <meta property="og:description" content="E.6.&amp;nbsp;Release 13.15 E.6.1. Migration to Version 13.15 E.6.2. Changes Release date:&amp;nbsp;2024-05-09 This release contains a variety of fixes from 13.14. …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/13/release-13-15.html" title="PostgreSQL 13 - E.6. Release 13.15" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">E.6.&nbsp;Release 13.15</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="release-13-16.html" title="E.5.&nbsp;Release 13.16">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <th width="60%" align="center">Appendix&nbsp;E.&nbsp;Release Notes</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="release-13-14.html" title="E.7.&nbsp;Release 13.14">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RELEASE-13-15">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">E.6.&nbsp;Release 13.15</h2>
      </div>
    </div>
  </div>
  <div class="toc">
    <dl class="toc">
      <dt><span class="sect2"><a href="release-13-15.html#id-1.11.6.11.4">E.6.1. Migration to Version 13.15</a></span></dt>
      <dt><span class="sect2"><a href="release-13-15.html#id-1.11.6.11.5">E.6.2. Changes</a></span></dt>
    </dl>
  </div>
  <p><strong>Release date:&nbsp;</strong>2024-05-09</p>
  <p>This release contains a variety of fixes from 13.14. For information about new features in major release 13, see <a class="xref" href="release-13.html" title="E.21.&nbsp;Release 13">Section&nbsp;E.21</a>.</p>
  <div class="sect2" id="id-1.11.6.11.4">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.6.1.&nbsp;Migration to Version 13.15</h3>
        </div>
      </div>
    </div>
    <p>A dump/restore is not required for those running 13.X.</p>
    <p>However, if you are upgrading from a version earlier than 13.14, see <a class="xref" href="release-13-14.html" title="E.7.&nbsp;Release 13.14">Section&nbsp;E.7</a>.</p>
  </div>
  <div class="sect2" id="id-1.11.6.11.5">
    <div class="titlepage">
      <div>
        <div>
          <h3 class="title">E.6.2.&nbsp;Changes</h3>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>Fix <code class="command">INSERT</code> from multiple <code class="command">VALUES</code> rows into a target column that is a domain over an array or composite type (Tom Lane) <a class="ulink" href="https://postgr.es/c/0200398dd" target="_top">§</a></p>
          <p>Such cases would either fail with surprising complaints about mismatched datatypes, or insert unexpected coercions that could lead to odd results.</p>
        </li>
        <li class="listitem">
          <p>Fix incorrect pruning of NULL partition when a table is partitioned on a boolean column and the query has a boolean <code class="literal">IS NOT</code> clause (David Rowley) <a class="ulink" href="https://postgr.es/c/3850fcca6" target="_top">§</a></p>
          <p>A NULL value satisfies a clause such as <code class="literal"><em class="replaceable"><code>boolcol</code></em> IS NOT FALSE</code>, so pruning away a partition containing NULLs yielded incorrect answers.</p>
        </li>
        <li class="listitem">
          <p>Make <code class="command">ALTER FOREIGN TABLE SET SCHEMA</code> move any owned sequences into the new schema (Tom Lane) <a class="ulink" href="https://postgr.es/c/97de2a159" target="_top">§</a></p>
          <p>Moving a regular table to a new schema causes any sequences owned by the table to be moved to that schema too (along with indexes and constraints). This was overlooked for foreign tables, however.</p>
        </li>
        <li class="listitem">
          <p>Fix <code class="command">EXPLAIN</code>'s counting of heap pages accessed by a bitmap heap scan (Melanie Plageman) <a class="ulink" href="https://postgr.es/c/992189a3e" target="_top">§</a></p>
          <p>Previously, heap pages that contain no visible tuples were not counted; but it seems more consistent to count all pages returned by the bitmap index scan.</p>
        </li>
        <li class="listitem">
          <p>Avoid deadlock during removal of orphaned temporary tables (Mikhail Zhilin) <a class="ulink" href="https://postgr.es/c/4afc2c219" target="_top">§</a></p>
          <p>If the session that creates a temporary table crashes without removing the table, autovacuum will eventually try to remove the orphaned table. However, an incoming session that's been assigned the same temporary namespace will do that too. If a temporary table has a dependency (such as an owned sequence) then a deadlock could result between these two cleanup attempts.</p>
        </li>
        <li class="listitem">
          <p>Avoid race condition while examining per-relation frozen-XID values (Noah Misch) <a class="ulink" href="https://postgr.es/c/70cadfba0" target="_top">§</a></p>
          <p><code class="command">VACUUM</code>'s computation of per-database frozen-XID values from per-relation values could get confused by a concurrent update of those values by another <code class="command">VACUUM</code>.</p>
        </li>
        <li class="listitem">
          <p>Disallow converting a table to a view within an outer SQL command that is using that table (Tom Lane) <a class="ulink" href="https://postgr.es/c/1ee22d1e8" target="_top">§</a></p>
          <p>This avoids possible crashes.</p>
        </li>
        <li class="listitem">
          <p>Ensure that join conditions generated from equivalence classes are applied at the correct plan level (Tom Lane) <a class="ulink" href="https://postgr.es/c/d9e4ee74f" target="_top">§</a></p>
          <p>In versions before <span class="productname">PostgreSQL</span> 16, it was possible for generated conditions to be evaluated below outer joins when they should be evaluated above (after) the outer join, leading to incorrect query results. All versions have a similar hazard when considering joins to <code class="command">UNION ALL</code> trees that have constant outputs for the join column in some <code class="command">SELECT</code> arms.</p>
        </li>
        <li class="listitem">
          <p>Avoid unnecessary use of moving-aggregate mode with a non-moving window frame (Vallimaharajan G) <a class="ulink" href="https://postgr.es/c/de3c5b187" target="_top">§</a></p>
          <p>When a plain aggregate is used as a window function, and the window frame start is specified as <code class="literal">UNBOUNDED PRECEDING</code>, the frame's head cannot move so we do not need to use the special (and more expensive) moving-aggregate mode. This optimization was intended all along, but due to a coding error it never triggered.</p>
        </li>
        <li class="listitem">
          <p>Avoid use of already-freed data while planning partition-wise joins under GEQO (Tom Lane) <a class="ulink" href="https://postgr.es/c/9061fd23c" target="_top">§</a></p>
          <p>This would typically end in a crash or unexpected error message.</p>
        </li>
        <li class="listitem">
          <p>Fix incorrectly-reported statistics kind codes in <span class="quote">“<span class="quote">requested statistics kind <em class="replaceable"><code>X</code></em> is not yet built</span>”</span> error messages (David Rowley) <a class="ulink" href="https://postgr.es/c/421dfb41a" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Be more careful with <code class="type">RECORD</code>-returning functions in <code class="literal">FROM</code> (Tom Lane) <a class="ulink" href="https://postgr.es/c/b6e21cef7" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/d769f9d97" target="_top">§</a></p>
          <p>The output columns of such a function call must be defined by an <code class="literal">AS</code> clause that specifies the column names and data types. If the actual function output value doesn't match that, an error is supposed to be thrown at runtime. However, some code paths would examine the actual value prematurely, and potentially issue strange errors or suffer assertion failures if it doesn't match expectations.</p>
        </li>
        <li class="listitem">
          <p>Fix confusion about the return rowtype of SQL-language procedures (Tom Lane) <a class="ulink" href="https://postgr.es/c/28184f039" target="_top">§</a></p>
          <p>A procedure implemented in SQL language that returns a single composite-type column would cause an assertion failure or core dump.</p>
        </li>
        <li class="listitem">
          <p>Add protective stack depth checks to some recursive functions (Egor Chindyaskin) <a class="ulink" href="https://postgr.es/c/445c7e38f" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Detect integer overflow when adding or subtracting an <code class="type">interval</code> to/from a <code class="type">timestamp</code> (Joseph Koshakow) <a class="ulink" href="https://postgr.es/c/440b6251b" target="_top">§</a></p>
          <p>Some cases that should cause an out-of-range error produced an incorrect result instead.</p>
        </li>
        <li class="listitem">
          <p>Avoid race condition in <code class="function">pg_get_expr()</code> (Tom Lane) <a class="ulink" href="https://postgr.es/c/ceb224b62" target="_top">§</a></p>
          <p>If the relation referenced by the argument is dropped concurrently, the function's intention is to return NULL, but sometimes it failed instead.</p>
        </li>
        <li class="listitem">
          <p>Fix detection of old transaction IDs in XID status functions (Karina Litskevich) <a class="ulink" href="https://postgr.es/c/4efaf4b09" target="_top">§</a></p>
          <p>Transaction IDs more than 2<sup>31</sup> transactions in the past could be misidentified as recent, leading to misbehavior of <code class="function">pg_xact_status()</code> or <code class="function">txid_status()</code>.</p>
        </li>
        <li class="listitem">
          <p>Fix file descriptor leakage when an error is thrown while waiting in <code class="function">WaitEventSetWait</code> (Etsuro Fujita) <a class="ulink" href="https://postgr.es/c/01b01a77f" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Throw an error if an index is accessed while it is being reindexed (Tom Lane) <a class="ulink" href="https://postgr.es/c/43cca9de9" target="_top">§</a></p>
          <p>Previously this was just an assertion check, but promote it into a regular runtime error. This will provide a more on-point error message when reindexing a user-defined index expression that attempts to access its own table.</p>
        </li>
        <li class="listitem">
          <p>Ensure that index-only scans on <code class="type">name</code> columns return a fully-padded value (David Rowley) <a class="ulink" href="https://postgr.es/c/0a34bcd0c" target="_top">§</a></p>
          <p>The value physically stored in the index is truncated, and previously a pointer to that value was returned to callers. This provoked complaints when testing under valgrind. In theory it could result in crashes, though none have been reported.</p>
        </li>
        <li class="listitem">
          <p>Fix crash with DSM allocations larger than 4GB (Heikki Linnakangas) <a class="ulink" href="https://postgr.es/c/e92375692" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Disconnect if a new server session's client socket cannot be put into non-blocking mode (Heikki Linnakangas) <a class="ulink" href="https://postgr.es/c/ad5cd55e6" target="_top">§</a></p>
          <p>It was once theoretically possible for us to operate with a socket that's in blocking mode; but that hasn't worked fully in a long time, so fail at connection start rather than misbehave later.</p>
        </li>
        <li class="listitem">
          <p>Fix inadequate error reporting with <span class="application">OpenSSL</span> 3.0.0 and later (Heikki Linnakangas, Tom Lane) <a class="ulink" href="https://postgr.es/c/9fbe07275" target="_top">§</a></p>
          <p>System-reported errors passed through by OpenSSL were reported with a numeric error code rather than anything readable.</p>
        </li>
        <li class="listitem">
          <p>Avoid concurrent calls to <code class="function">bindtextdomain()</code> in <span class="application">libpq</span> and <span class="application">ecpglib</span> (Tom Lane) <a class="ulink" href="https://postgr.es/c/8c5da20db" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/67f8cf0f0" target="_top">§</a></p>
          <p>Although GNU <span class="application">gettext</span>'s implementation seems to be fine with concurrent calls, the version available on Windows is not.</p>
        </li>
        <li class="listitem">
          <p>Fix crash in <span class="application">ecpg</span>'s preprocessor if the program tries to redefine a macro that was defined on the preprocessor command line (Tom Lane) <a class="ulink" href="https://postgr.es/c/02531e8ca" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/481597fc6" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/c6bfeab42" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>In <span class="application">ecpg</span>, avoid issuing false <span class="quote">“<span class="quote">unsupported feature will be passed to server</span>”</span> warnings (Tom Lane) <a class="ulink" href="https://postgr.es/c/5ba29e945" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Ensure that the string result of <span class="application">ecpg</span>'s <code class="function">intoasc()</code> function is correctly zero-terminated (Oleg Tselebrovskiy) <a class="ulink" href="https://postgr.es/c/c031ce97b" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Fix <span class="application">pg_dumpall</span> so that role comments, if present, will be dumped regardless of the setting of <code class="option">--no-role-passwords</code> (Daniel Gustafsson, Álvaro Herrera) <a class="ulink" href="https://postgr.es/c/affc46b76" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/d5c6affb8" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Fix <span class="application">PL/pgSQL</span>'s parsing of single-line comments (<code class="literal">--</code>-style comments) following expressions (Erik Wienhold, Tom Lane) <a class="ulink" href="https://postgr.es/c/f5cee411a" target="_top">§</a></p>
          <p>This mistake caused parse errors if such a comment followed a <code class="literal">WHEN</code> expression in a <span class="application">PL/pgSQL</span> <code class="command">CASE</code> statement.</p>
        </li>
        <li class="listitem">
          <p>In <code class="filename">contrib/amcheck</code>, don't report false match failures due to short- versus long-header values (Andrey Borodin, Michael Zhilin) <a class="ulink" href="https://postgr.es/c/5cc1f2626" target="_top">§</a> <a class="ulink" href="https://postgr.es/c/e2c241416" target="_top">§</a></p>
          <p>A variable-length datum in a heap tuple or index tuple could have either a short or a long header, depending on compression parameters that applied when it was made. Treat these cases as equivalent rather than complaining if there's a difference.</p>
        </li>
        <li class="listitem">
          <p>In <code class="filename">contrib/postgres_fdw</code>, avoid emitting requests to sort by a constant (David Rowley) <a class="ulink" href="https://postgr.es/c/20b85b3da" target="_top">§</a></p>
          <p>This could occur in cases involving <code class="literal">UNION ALL</code> with constant-emitting subqueries. Sorting by a constant is useless of course, but it also risks being misinterpreted by the remote server, leading to <span class="quote">“<span class="quote">ORDER BY position <em class="replaceable"><code>N</code></em> is not in select list</span>”</span> errors.</p>
        </li>
        <li class="listitem">
          <p>Make <code class="filename">contrib/postgres_fdw</code> set the remote session's time zone to <code class="literal">GMT</code> not <code class="literal">UTC</code> (Tom Lane) <a class="ulink" href="https://postgr.es/c/0e56b2b94" target="_top">§</a></p>
          <p>This should have the same results for practical purposes. However, <code class="literal">GMT</code> is recognized by hard-wired code in the server, while <code class="literal">UTC</code> is looked up in the timezone database. So the old code could fail in the unlikely event that the remote server's timezone database is missing entries.</p>
        </li>
        <li class="listitem">
          <p>In <code class="filename">contrib/xml2</code>, avoid use of library functions that have been deprecated in recent versions of <span class="application">libxml2</span> (Dmitry Koval) <a class="ulink" href="https://postgr.es/c/bb418aeee" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Fix incompatibility with LLVM 18 (Thomas Munro, Dmitry Dolgov) <a class="ulink" href="https://postgr.es/c/4f90750b5" target="_top">§</a></p>
        </li>
        <li class="listitem">
          <p>Allow <code class="literal">make check</code> to work with the <span class="application">musl</span> C library (Thomas Munro, Bruce Momjian, Tom Lane) <a class="ulink" href="https://postgr.es/c/243e99532" target="_top">§</a></p>
        </li>
      </ul>
    </div>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="release-13-16.html" title="E.5.&nbsp;Release 13.16">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="release.html" title="Appendix&nbsp;E.&nbsp;Release Notes">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="release-13-14.html" title="E.7.&nbsp;Release 13.14">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">E.5.&nbsp;Release 13.16&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;E.7.&nbsp;Release 13.14</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/release-13-15.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
