<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: 11.1. Introduction</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/indexes-intro.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="11.1. Introduction" />
  <meta property="og:description" content="11.1.&amp;nbsp;Introduction Suppose we have a table similar to this: CREATE TABLE test1 ( id integer, content varchar ); and the …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/indexes-intro.html" title="PostgreSQL 17 - 11.1. Introduction" >Current</a>
                          (<a href="/docs/17/indexes-intro.html" title="PostgreSQL 17 - 11.1. Introduction" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/indexes-intro.html" title="PostgreSQL 16 - 11.1. Introduction" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/indexes-intro.html" title="PostgreSQL 15 - 11.1. Introduction" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/indexes-intro.html" title="PostgreSQL 14 - 11.1. Introduction" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/indexes-intro.html" title="PostgreSQL 13 - 11.1. Introduction" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/indexes-intro.html" title="PostgreSQL devel - 11.1. Introduction"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/indexes-intro.html" title="PostgreSQL 12 - 11.1. Introduction"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/indexes-intro.html" title="PostgreSQL 11 - 11.1. Introduction"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/indexes-intro.html" title="PostgreSQL 10 - 11.1. Introduction"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/indexes-intro.html" title="PostgreSQL 9.6 - 11.1. Introduction"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/indexes-intro.html" title="PostgreSQL 9.5 - 11.1. Introduction"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/indexes-intro.html" title="PostgreSQL 9.4 - 11.1. Introduction"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/indexes-intro.html" title="PostgreSQL 9.3 - 11.1. Introduction"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/indexes-intro.html" title="PostgreSQL 9.2 - 11.1. Introduction"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/indexes-intro.html" title="PostgreSQL 9.1 - 11.1. Introduction"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/indexes-intro.html" title="PostgreSQL 9.0 - 11.1. Introduction"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/indexes-intro.html" title="PostgreSQL 8.4 - 11.1. Introduction"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/indexes-intro.html" title="PostgreSQL 8.3 - 11.1. Introduction"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/indexes-intro.html" title="PostgreSQL 8.2 - 11.1. Introduction"  rel="nofollow">8.2</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">11.1.&nbsp;Introduction</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="indexes.html" title="Chapter&nbsp;11.&nbsp;Indexes">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="indexes.html" title="Chapter&nbsp;11.&nbsp;Indexes">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;11.&nbsp;Indexes</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="indexes-types.html" title="11.2.&nbsp;Index Types">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="INDEXES-INTRO">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">11.1.&nbsp;Introduction</h2>
      </div>
    </div>
  </div>
  <p>Suppose we have a table similar to this:</p>
  <pre class="programlisting">
CREATE TABLE test1 (
    id integer,
    content varchar
);
</pre>
  <p>and the application issues many queries of the form:</p>
  <pre class="programlisting">
SELECT content FROM test1 WHERE id = <em class="replaceable"><code>constant</code></em>;
</pre>
  <p>With no advance preparation, the system would have to scan the entire <code class="structname">test1</code> table, row by row, to find all matching entries. If there are many rows in <code class="structname">test1</code> and only a few rows (perhaps zero or one) that would be returned by such a query, this is clearly an inefficient method. But if the system has been instructed to maintain an index on the <code class="structfield">id</code> column, it can use a more efficient method for locating matching rows. For instance, it might only have to walk a few levels deep into a search tree.</p>
  <p>A similar approach is used in most non-fiction books: terms and concepts that are frequently looked up by readers are collected in an alphabetic index at the end of the book. The interested reader can scan the index relatively quickly and flip to the appropriate page(s), rather than having to read the entire book to find the material of interest. Just as it is the task of the author to anticipate the items that readers are likely to look up, it is the task of the database programmer to foresee which indexes will be useful.</p>
  <p>The following command can be used to create an index on the <code class="structfield">id</code> column, as discussed:</p>
  <pre class="programlisting">
CREATE INDEX test1_id_index ON test1 (id);
</pre>
  <p>The name <code class="structname">test1_id_index</code> can be chosen freely, but you should pick something that enables you to remember later what the index was for.</p>
  <p>To remove an index, use the <code class="command">DROP INDEX</code> command. Indexes can be added to and removed from tables at any time.</p>
  <p>Once an index is created, no further intervention is required: the system will update the index when the table is modified, and it will use the index in queries when it thinks doing so would be more efficient than a sequential table scan. But you might have to run the <code class="command">ANALYZE</code> command regularly to update statistics to allow the query planner to make educated decisions. See <a class="xref" href="performance-tips.html" title="Chapter&nbsp;14.&nbsp;Performance Tips">Chapter&nbsp;14</a> for information about how to find out whether an index is used and when and why the planner might choose <span class="emphasis"><em>not</em></span> to use an index.</p>
  <p>Indexes can also benefit <code class="command">UPDATE</code> and <code class="command">DELETE</code> commands with search conditions. Indexes can moreover be used in join searches. Thus, an index defined on a column that is part of a join condition can also significantly speed up queries with joins.</p>
  <p>In general, <span class="productname">PostgreSQL</span> indexes can be used to optimize queries that contain one or more <code class="literal">WHERE</code> or <code class="literal">JOIN</code> clauses of the form</p>
  <pre class="synopsis">
<em class="replaceable"><code>indexed-column</code></em> <em class="replaceable"><code>indexable-operator</code></em> <em class="replaceable"><code>comparison-value</code></em>
</pre>
  <p>Here, the <em class="replaceable"><code>indexed-column</code></em> is whatever column or expression the index has been defined on. The <em class="replaceable"><code>indexable-operator</code></em> is an operator that is a member of the index's <em class="firstterm">operator class</em> for the indexed column. (More details about that appear below.) And the <em class="replaceable"><code>comparison-value</code></em> can be any expression that is not volatile and does not reference the index's table.</p>
  <p>In some cases the query planner can extract an indexable clause of this form from another SQL construct. A simple example is that if the original clause was</p>
  <pre class="synopsis">
<em class="replaceable"><code>comparison-value</code></em> <em class="replaceable"><code>operator</code></em> <em class="replaceable"><code>indexed-column</code></em>
</pre>
  <p>then it can be flipped around into indexable form if the original <em class="replaceable"><code>operator</code></em> has a commutator operator that is a member of the index's operator class.</p>
  <p>Creating an index on a large table can take a long time. By default, <span class="productname">PostgreSQL</span> allows reads (<code class="command">SELECT</code> statements) to occur on the table in parallel with index creation, but writes (<code class="command">INSERT</code>, <code class="command">UPDATE</code>, <code class="command">DELETE</code>) are blocked until the index build is finished. In production environments this is often unacceptable. It is possible to allow writes to occur in parallel with index creation, but there are several caveats to be aware of — for more information see <a class="xref" href="sql-createindex.html#SQL-CREATEINDEX-CONCURRENTLY" title="Building Indexes Concurrently">Building Indexes Concurrently</a>.</p>
  <p>After an index is created, the system has to keep it synchronized with the table. This adds overhead to data manipulation operations. Indexes can also prevent the creation of <a class="link" href="storage-hot.html" title="69.7.&nbsp;Heap-Only Tuples (HOT)">heap-only tuples</a>. Therefore indexes that are seldom or never used in queries should be removed.</p>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="indexes.html" title="Chapter&nbsp;11.&nbsp;Indexes">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="indexes.html" title="Chapter&nbsp;11.&nbsp;Indexes">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="indexes-types.html" title="11.2.&nbsp;Index Types">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">Chapter&nbsp;11.&nbsp;Indexes&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;11.2.&nbsp;Index Types</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/indexes-intro.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
