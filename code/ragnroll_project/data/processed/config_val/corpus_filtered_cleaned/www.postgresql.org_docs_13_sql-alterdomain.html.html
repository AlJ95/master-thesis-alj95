<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: ALTER DOMAIN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/sql-alterdomain.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="ALTER DOMAIN" />
  <meta property="og:description" content="ALTER DOMAIN ALTER DOMAIN — change the definition of a domain Synopsis ALTER DOMAIN name { SET DEFAULT expression | …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/sql-alterdomain.html" title="PostgreSQL 17 - ALTER DOMAIN" >Current</a>
                          (<a href="/docs/17/sql-alterdomain.html" title="PostgreSQL 17 - ALTER DOMAIN" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/sql-alterdomain.html" title="PostgreSQL 16 - ALTER DOMAIN" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/sql-alterdomain.html" title="PostgreSQL 15 - ALTER DOMAIN" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/sql-alterdomain.html" title="PostgreSQL 14 - ALTER DOMAIN" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/sql-alterdomain.html" title="PostgreSQL 13 - ALTER DOMAIN" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/sql-alterdomain.html" title="PostgreSQL devel - ALTER DOMAIN"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/sql-alterdomain.html" title="PostgreSQL 12 - ALTER DOMAIN"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/sql-alterdomain.html" title="PostgreSQL 11 - ALTER DOMAIN"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/sql-alterdomain.html" title="PostgreSQL 10 - ALTER DOMAIN"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/sql-alterdomain.html" title="PostgreSQL 9.6 - ALTER DOMAIN"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/sql-alterdomain.html" title="PostgreSQL 9.5 - ALTER DOMAIN"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/sql-alterdomain.html" title="PostgreSQL 9.4 - ALTER DOMAIN"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/sql-alterdomain.html" title="PostgreSQL 9.3 - ALTER DOMAIN"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/sql-alterdomain.html" title="PostgreSQL 9.2 - ALTER DOMAIN"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/sql-alterdomain.html" title="PostgreSQL 9.1 - ALTER DOMAIN"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/sql-alterdomain.html" title="PostgreSQL 9.0 - ALTER DOMAIN"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/sql-alterdomain.html" title="PostgreSQL 8.4 - ALTER DOMAIN"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/sql-alterdomain.html" title="PostgreSQL 8.3 - ALTER DOMAIN"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/sql-alterdomain.html" title="PostgreSQL 8.2 - ALTER DOMAIN"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/sql-alterdomain.html" title="PostgreSQL 8.1 - ALTER DOMAIN"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/sql-alterdomain.html" title="PostgreSQL 8.0 - ALTER DOMAIN"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/sql-alterdomain.html" title="PostgreSQL 7.4 - ALTER DOMAIN"  rel="nofollow">7.4</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">ALTER DOMAIN</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="sql-alterdefaultprivileges.html" title="ALTER DEFAULT PRIVILEGES">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <th width="60%" align="center">SQL Commands</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="sql-altereventtrigger.html" title="ALTER EVENT TRIGGER">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="refentry" id="SQL-ALTERDOMAIN">
  <div class="titlepage"></div><a id="id-1.9.3.9.1" class="indexterm" name="id-1.9.3.9.1"></a>
  <div class="refnamediv">
    <h2><span class="refentrytitle">ALTER DOMAIN</span></h2>
    <p>ALTER DOMAIN — change the definition of a domain</p>
  </div>
  <div class="refsynopsisdiv">
    <h2>Synopsis</h2>
    <pre class="synopsis">
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    { SET DEFAULT <em class="replaceable"><code>expression</code></em> | DROP DEFAULT }
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    { SET | DROP } NOT NULL
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    ADD <em class="replaceable"><code>domain_constraint</code></em> [ NOT VALID ]
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    DROP CONSTRAINT [ IF EXISTS ] <em class="replaceable"><code>constraint_name</code></em> [ RESTRICT | CASCADE ]
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
     RENAME CONSTRAINT <em class="replaceable"><code>constraint_name</code></em> TO <em class="replaceable"><code>new_constraint_name</code></em>
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    VALIDATE CONSTRAINT <em class="replaceable"><code>constraint_name</code></em>
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    OWNER TO { <em class="replaceable"><code>new_owner</code></em> | CURRENT_USER | SESSION_USER }
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    RENAME TO <em class="replaceable"><code>new_name</code></em>
ALTER DOMAIN <em class="replaceable"><code>name</code></em>
    SET SCHEMA <em class="replaceable"><code>new_schema</code></em>

<span class="phrase">where <em class="replaceable"><code>domain_constraint</code></em> is:</span>

[ CONSTRAINT <em class="replaceable"><code>constraint_name</code></em> ]
{ NOT NULL | CHECK (<em class="replaceable"><code>expression</code></em>) }
</pre>
  </div>
  <div class="refsect1" id="id-1.9.3.9.5">
    <h2>Description</h2>
    <p><code class="command">ALTER DOMAIN</code> changes the definition of an existing domain. There are several sub-forms:</p>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><code class="literal">SET</code>/<code class="literal">DROP DEFAULT</code></span></dt>
        <dd>
          <p>These forms set or remove the default value for a domain. Note that defaults only apply to subsequent <code class="command">INSERT</code> commands; they do not affect rows already in a table using the domain.</p>
        </dd>
        <dt><span class="term"><code class="literal">SET</code>/<code class="literal">DROP NOT NULL</code></span></dt>
        <dd>
          <p>These forms change whether a domain is marked to allow NULL values or to reject NULL values. You can only <code class="literal">SET NOT NULL</code> when the columns using the domain contain no null values.</p>
        </dd>
        <dt><span class="term"><code class="literal">ADD <em class="replaceable"><code>domain_constraint</code></em> [ NOT VALID ]</code></span></dt>
        <dd>
          <p>This form adds a new constraint to a domain. When a new constraint is added to a domain, all columns using that domain will be checked against the newly added constraint. These checks can be suppressed by adding the new constraint using the <code class="literal">NOT VALID</code> option; the constraint can later be made valid using <code class="command">ALTER DOMAIN ... VALIDATE CONSTRAINT</code>. Newly inserted or updated rows are always checked against all constraints, even those marked <code class="literal">NOT VALID</code>. <code class="literal">NOT VALID</code> is only accepted for <code class="literal">CHECK</code> constraints.</p>
        </dd>
        <dt><span class="term"><code class="literal">DROP CONSTRAINT [ IF EXISTS ]</code></span></dt>
        <dd>
          <p>This form drops constraints on a domain. If <code class="literal">IF EXISTS</code> is specified and the constraint does not exist, no error is thrown. In this case a notice is issued instead.</p>
        </dd>
        <dt><span class="term"><code class="literal">RENAME CONSTRAINT</code></span></dt>
        <dd>
          <p>This form changes the name of a constraint on a domain.</p>
        </dd>
        <dt><span class="term"><code class="literal">VALIDATE CONSTRAINT</code></span></dt>
        <dd>
          <p>This form validates a constraint previously added as <code class="literal">NOT VALID</code>, that is, it verifies that all values in table columns of the domain type satisfy the specified constraint.</p>
        </dd>
        <dt><span class="term"><code class="literal">OWNER</code></span></dt>
        <dd>
          <p>This form changes the owner of the domain to the specified user.</p>
        </dd>
        <dt><span class="term"><code class="literal">RENAME</code></span></dt>
        <dd>
          <p>This form changes the name of the domain.</p>
        </dd>
        <dt><span class="term"><code class="literal">SET SCHEMA</code></span></dt>
        <dd>
          <p>This form changes the schema of the domain. Any constraints associated with the domain are moved into the new schema as well.</p>
        </dd>
      </dl>
    </div>
    <p>You must own the domain to use <code class="command">ALTER DOMAIN</code>. To change the schema of a domain, you must also have <code class="literal">CREATE</code> privilege on the new schema. To alter the owner, you must also be a direct or indirect member of the new owning role, and that role must have <code class="literal">CREATE</code> privilege on the domain's schema. (These restrictions enforce that altering the owner doesn't do anything you couldn't do by dropping and recreating the domain. However, a superuser can alter ownership of any domain anyway.)</p>
  </div>
  <div class="refsect1" id="id-1.9.3.9.6">
    <h2>Parameters</h2>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt>
        <dd>
          <p>The name (possibly schema-qualified) of an existing domain to alter.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>domain_constraint</code></em></span></dt>
        <dd>
          <p>New domain constraint for the domain.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>constraint_name</code></em></span></dt>
        <dd>
          <p>Name of an existing constraint to drop or rename.</p>
        </dd>
        <dt><span class="term"><code class="literal">NOT VALID</code></span></dt>
        <dd>
          <p>Do not verify existing stored data for constraint validity.</p>
        </dd>
        <dt><span class="term"><code class="literal">CASCADE</code></span></dt>
        <dd>
          <p>Automatically drop objects that depend on the constraint, and in turn all objects that depend on those objects (see <a class="xref" href="ddl-depend.html" title="5.14.&nbsp;Dependency Tracking">Section&nbsp;5.14</a>).</p>
        </dd>
        <dt><span class="term"><code class="literal">RESTRICT</code></span></dt>
        <dd>
          <p>Refuse to drop the constraint if there are any dependent objects. This is the default behavior.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>new_name</code></em></span></dt>
        <dd>
          <p>The new name for the domain.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>new_constraint_name</code></em></span></dt>
        <dd>
          <p>The new name for the constraint.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>new_owner</code></em></span></dt>
        <dd>
          <p>The user name of the new owner of the domain.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>new_schema</code></em></span></dt>
        <dd>
          <p>The new schema for the domain.</p>
        </dd>
      </dl>
    </div>
  </div>
  <div class="refsect1" id="id-1.9.3.9.7">
    <h2>Notes</h2>
    <p>Although <code class="command">ALTER DOMAIN ADD CONSTRAINT</code> attempts to verify that existing stored data satisfies the new constraint, this check is not bulletproof, because the command cannot <span class="quote">“<span class="quote">see</span>”</span> table rows that are newly inserted or updated and not yet committed. If there is a hazard that concurrent operations might insert bad data, the way to proceed is to add the constraint using the <code class="literal">NOT VALID</code> option, commit that command, wait until all transactions started before that commit have finished, and then issue <code class="command">ALTER DOMAIN VALIDATE CONSTRAINT</code> to search for data violating the constraint. This method is reliable because once the constraint is committed, all new transactions are guaranteed to enforce it against new values of the domain type.</p>
    <p>Currently, <code class="command">ALTER DOMAIN ADD CONSTRAINT</code>, <code class="command">ALTER DOMAIN VALIDATE CONSTRAINT</code>, and <code class="command">ALTER DOMAIN SET NOT NULL</code> will fail if the named domain or any derived domain is used within a container-type column (a composite, array, or range column) in any table in the database. They should eventually be improved to be able to verify the new constraint for such nested values.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.9.8">
    <h2>Examples</h2>
    <p>To add a <code class="literal">NOT NULL</code> constraint to a domain:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode SET NOT NULL;
</pre>
    <p>To remove a <code class="literal">NOT NULL</code> constraint from a domain:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode DROP NOT NULL;
</pre>
    <p>To add a check constraint to a domain:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode ADD CONSTRAINT zipchk CHECK (char_length(VALUE) = 5);
</pre>
    <p>To remove a check constraint from a domain:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode DROP CONSTRAINT zipchk;
</pre>
    <p>To rename a check constraint on a domain:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode RENAME CONSTRAINT zipchk TO zip_check;
</pre>
    <p>To move the domain into a different schema:</p>
    <pre class="programlisting">
ALTER DOMAIN zipcode SET SCHEMA customers;
</pre>
  </div>
  <div class="refsect1" id="SQL-ALTERDOMAIN-COMPATIBILITY">
    <h2>Compatibility</h2>
    <p><code class="command">ALTER DOMAIN</code> conforms to the <acronym class="acronym">SQL</acronym> standard, except for the <code class="literal">OWNER</code>, <code class="literal">RENAME</code>, <code class="literal">SET SCHEMA</code>, and <code class="literal">VALIDATE CONSTRAINT</code> variants, which are <span class="productname">PostgreSQL</span> extensions. The <code class="literal">NOT VALID</code> clause of the <code class="literal">ADD CONSTRAINT</code> variant is also a <span class="productname">PostgreSQL</span> extension.</p>
  </div>
  <div class="refsect1" id="SQL-ALTERDOMAIN-SEE-ALSO">
    <h2>See Also</h2><span class="simplelist"><a class="xref" href="sql-createdomain.html" title="CREATE DOMAIN"><span class="refentrytitle">CREATE DOMAIN</span></a>, <a class="xref" href="sql-dropdomain.html" title="DROP DOMAIN"><span class="refentrytitle">DROP DOMAIN</span></a></span>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="sql-alterdefaultprivileges.html" title="ALTER DEFAULT PRIVILEGES">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="sql-altereventtrigger.html" title="ALTER EVENT TRIGGER">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">ALTER DEFAULT PRIVILEGES&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;ALTER EVENT TRIGGER</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/sql-alterdomain.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
