<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: 40.6. Rules and Command Status</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/rules-status.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="40.6. Rules and Command Status" />
  <meta property="og:description" content="40.6.&amp;nbsp;Rules and Command Status The PostgreSQL server returns a command status string, such as INSERT 149592 1, for each command …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/rules-status.html" title="PostgreSQL 17 - 40.6. Rules and Command Status" >Current</a>
                          (<a href="/docs/17/rules-status.html" title="PostgreSQL 17 - 40.6. Rules and Command Status" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/rules-status.html" title="PostgreSQL 16 - 40.6. Rules and Command Status" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/rules-status.html" title="PostgreSQL 15 - 40.6. Rules and Command Status" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/rules-status.html" title="PostgreSQL 14 - 40.6. Rules and Command Status" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/rules-status.html" title="PostgreSQL 13 - 40.6. Rules and Command Status" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/rules-status.html" title="PostgreSQL devel - 40.6. Rules and Command Status"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/rules-status.html" title="PostgreSQL 12 - 40.6. Rules and Command Status"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/rules-status.html" title="PostgreSQL 11 - 40.6. Rules and Command Status"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/rules-status.html" title="PostgreSQL 10 - 40.6. Rules and Command Status"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/rules-status.html" title="PostgreSQL 9.6 - 40.6. Rules and Command Status"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/rules-status.html" title="PostgreSQL 9.5 - 40.6. Rules and Command Status"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/rules-status.html" title="PostgreSQL 9.4 - 40.6. Rules and Command Status"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/rules-status.html" title="PostgreSQL 9.3 - 40.6. Rules and Command Status"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/rules-status.html" title="PostgreSQL 9.2 - 40.6. Rules and Command Status"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/rules-status.html" title="PostgreSQL 9.1 - 40.6. Rules and Command Status"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/rules-status.html" title="PostgreSQL 9.0 - 40.6. Rules and Command Status"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/rules-status.html" title="PostgreSQL 8.4 - 40.6. Rules and Command Status"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/rules-status.html" title="PostgreSQL 8.3 - 40.6. Rules and Command Status"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/rules-status.html" title="PostgreSQL 8.2 - 40.6. Rules and Command Status"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/rules-status.html" title="PostgreSQL 8.1 - 40.6. Rules and Command Status"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/rules-status.html" title="PostgreSQL 8.0 - 40.6. Rules and Command Status"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/rules-status.html" title="PostgreSQL 7.4 - 40.6. Rules and Command Status"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/rules-status.html" title="PostgreSQL 7.3 - 40.6. Rules and Command Status"  rel="nofollow">7.3</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">40.6.&nbsp;Rules and Command Status</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="rules-privileges.html" title="40.5.&nbsp;Rules and Privileges">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="rules.html" title="Chapter&nbsp;40.&nbsp;The Rule System">Up</a></td>
      <th width="60%" align="center">Chapter&nbsp;40.&nbsp;The Rule System</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="rules-triggers.html" title="40.7.&nbsp;Rules Versus Triggers">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="sect1" id="RULES-STATUS">
  <div class="titlepage">
    <div>
      <div>
        <h2 class="title" style="clear: both">40.6.&nbsp;Rules and Command Status</h2>
      </div>
    </div>
  </div>
  <p>The <span class="productname">PostgreSQL</span> server returns a command status string, such as <code class="literal">INSERT 149592 1</code>, for each command it receives. This is simple enough when there are no rules involved, but what happens when the query is rewritten by rules?</p>
  <p>Rules affect the command status as follows:</p>
  <div class="itemizedlist">
    <ul class="itemizedlist" style="list-style-type: disc;">
      <li class="listitem">
        <p>If there is no unconditional <code class="literal">INSTEAD</code> rule for the query, then the originally given query will be executed, and its command status will be returned as usual. (But note that if there were any conditional <code class="literal">INSTEAD</code> rules, the negation of their qualifications will have been added to the original query. This might reduce the number of rows it processes, and if so the reported status will be affected.)</p>
      </li>
      <li class="listitem">
        <p>If there is any unconditional <code class="literal">INSTEAD</code> rule for the query, then the original query will not be executed at all. In this case, the server will return the command status for the last query that was inserted by an <code class="literal">INSTEAD</code> rule (conditional or unconditional) and is of the same command type (<code class="command">INSERT</code>, <code class="command">UPDATE</code>, or <code class="command">DELETE</code>) as the original query. If no query meeting those requirements is added by any rule, then the returned command status shows the original query type and zeroes for the row-count and OID fields.</p>
      </li>
    </ul>
  </div>
  <p>The programmer can ensure that any desired <code class="literal">INSTEAD</code> rule is the one that sets the command status in the second case, by giving it the alphabetically last rule name among the active rules, so that it gets applied last.</p>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="rules-privileges.html" title="40.5.&nbsp;Rules and Privileges">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="rules.html" title="Chapter&nbsp;40.&nbsp;The Rule System">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="rules-triggers.html" title="40.7.&nbsp;Rules Versus Triggers">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">40.5.&nbsp;Rules and Privileges&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;40.7.&nbsp;Rules Versus Triggers</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/rules-status.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
