<!doctype html>
<html lang="en">
 <head>
  <title>PostgreSQL: Documentation: 13: FETCH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
   
  <meta name="theme-color" content="#336791"/>
  <meta name="copyright" content="The PostgreSQL Global Development Group" />
  <meta property="og:url" content="https://www.postgresql.org/docs/13/sql-fetch.html" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-02-20T14:13:26" />
  <meta property="og:image" content="https://www.postgresql.org/media/img/about/press/elephant.png" />
  <meta property="og:title" content="FETCH" />
  <meta property="og:description" content="FETCH FETCH — retrieve rows from a query using a cursor Synopsis FETCH [ direction ] [ FROM | IN …" />
  <meta property="og:site_name" content="PostgreSQL Documentation" />


  

  
  
  
  
  

  

  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          
          
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">February 20, 2025: <a href="/about/news/postgresql-174-168-1512-1417-and-1320-released-3018/">
  PostgreSQL 17.4, 16.8, 15.12, 14.17, and 13.20 Released!
</a>

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="/docs/" title="Documentation">Documentation</a> &rarr; <a href="/docs/13/index.html">PostgreSQL 13</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="/docs/current/sql-fetch.html" title="PostgreSQL 17 - FETCH" >Current</a>
                          (<a href="/docs/17/sql-fetch.html" title="PostgreSQL 17 - FETCH" >17</a>)
                        
                      
                         / 
                        
                          <a href="/docs/16/sql-fetch.html" title="PostgreSQL 16 - FETCH" >16</a>
                        
                      
                         / 
                        
                          <a href="/docs/15/sql-fetch.html" title="PostgreSQL 15 - FETCH" >15</a>
                        
                      
                         / 
                        
                          <a href="/docs/14/sql-fetch.html" title="PostgreSQL 14 - FETCH" >14</a>
                        
                      
                         / 
                        
                          <a href="/docs/13/sql-fetch.html" title="PostgreSQL 13 - FETCH" class="docs-version-selected">13</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="/docs/devel/sql-fetch.html" title="PostgreSQL devel - FETCH"  rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="/docs/12/sql-fetch.html" title="PostgreSQL 12 - FETCH"  rel="nofollow">12</a>
                    
                       / 
                      <a href="/docs/11/sql-fetch.html" title="PostgreSQL 11 - FETCH"  rel="nofollow">11</a>
                    
                       / 
                      <a href="/docs/10/sql-fetch.html" title="PostgreSQL 10 - FETCH"  rel="nofollow">10</a>
                    
                       / 
                      <a href="/docs/9.6/sql-fetch.html" title="PostgreSQL 9.6 - FETCH"  rel="nofollow">9.6</a>
                    
                       / 
                      <a href="/docs/9.5/sql-fetch.html" title="PostgreSQL 9.5 - FETCH"  rel="nofollow">9.5</a>
                    
                       / 
                      <a href="/docs/9.4/sql-fetch.html" title="PostgreSQL 9.4 - FETCH"  rel="nofollow">9.4</a>
                    
                       / 
                      <a href="/docs/9.3/sql-fetch.html" title="PostgreSQL 9.3 - FETCH"  rel="nofollow">9.3</a>
                    
                       / 
                      <a href="/docs/9.2/sql-fetch.html" title="PostgreSQL 9.2 - FETCH"  rel="nofollow">9.2</a>
                    
                       / 
                      <a href="/docs/9.1/sql-fetch.html" title="PostgreSQL 9.1 - FETCH"  rel="nofollow">9.1</a>
                    
                       / 
                      <a href="/docs/9.0/sql-fetch.html" title="PostgreSQL 9.0 - FETCH"  rel="nofollow">9.0</a>
                    
                       / 
                      <a href="/docs/8.4/sql-fetch.html" title="PostgreSQL 8.4 - FETCH"  rel="nofollow">8.4</a>
                    
                       / 
                      <a href="/docs/8.3/sql-fetch.html" title="PostgreSQL 8.3 - FETCH"  rel="nofollow">8.3</a>
                    
                       / 
                      <a href="/docs/8.2/sql-fetch.html" title="PostgreSQL 8.2 - FETCH"  rel="nofollow">8.2</a>
                    
                       / 
                      <a href="/docs/8.1/sql-fetch.html" title="PostgreSQL 8.1 - FETCH"  rel="nofollow">8.1</a>
                    
                       / 
                      <a href="/docs/8.0/sql-fetch.html" title="PostgreSQL 8.0 - FETCH"  rel="nofollow">8.0</a>
                    
                       / 
                      <a href="/docs/7.4/sql-fetch.html" title="PostgreSQL 7.4 - FETCH"  rel="nofollow">7.4</a>
                    
                       / 
                      <a href="/docs/7.3/sql-fetch.html" title="PostgreSQL 7.3 - FETCH"  rel="nofollow">7.3</a>
                    
                       / 
                      <a href="/docs/7.2/sql-fetch.html" title="PostgreSQL 7.2 - FETCH"  rel="nofollow">7.2</a>
                    
                       / 
                      <a href="/docs/7.1/sql-fetch.html" title="PostgreSQL 7.1 - FETCH"  rel="nofollow">7.1</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="/search/">
                <input type="hidden" name="u" value="/docs/13/" />
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for..."/>
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div>
              </form>
            </div>
          </div>

          <div id="docContent">
            <div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader">
  <table width="100%" summary="Navigation header">
    <tr>
      <th colspan="5" align="center">FETCH</th>
    </tr>
    <tr>
      <td width="10%" align="left"><a accesskey="p" href="sql-explain.html" title="EXPLAIN">Prev</a>&nbsp;</td>
      <td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <th width="60%" align="center">SQL Commands</th>
      <td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="10%" align="right">&nbsp;<a accesskey="n" href="sql-grant.html" title="GRANT">Next</a></td>
    </tr>
  </table>
  <hr />
</div>
<div class="refentry" id="SQL-FETCH">
  <div class="titlepage"></div><a id="id-1.9.3.149.1" class="indexterm" name="id-1.9.3.149.1"></a><a id="id-1.9.3.149.2" class="indexterm" name="id-1.9.3.149.2"></a>
  <div class="refnamediv">
    <h2><span class="refentrytitle">FETCH</span></h2>
    <p>FETCH — retrieve rows from a query using a cursor</p>
  </div>
  <div class="refsynopsisdiv">
    <h2>Synopsis</h2>
    <pre class="synopsis">
FETCH [ <em class="replaceable"><code>direction</code></em> ] [ FROM | IN ] <em class="replaceable"><code>cursor_name</code></em>

<span class="phrase">where <em class="replaceable"><code>direction</code></em> can be one of:</span>

    NEXT
    PRIOR
    FIRST
    LAST
    ABSOLUTE <em class="replaceable"><code>count</code></em>
    RELATIVE <em class="replaceable"><code>count</code></em>
    <em class="replaceable"><code>count</code></em>
    ALL
    FORWARD
    FORWARD <em class="replaceable"><code>count</code></em>
    FORWARD ALL
    BACKWARD
    BACKWARD <em class="replaceable"><code>count</code></em>
    BACKWARD ALL
</pre>
  </div>
  <div class="refsect1" id="id-1.9.3.149.6">
    <h2>Description</h2>
    <p><code class="command">FETCH</code> retrieves rows using a previously-created cursor.</p>
    <p>A cursor has an associated position, which is used by <code class="command">FETCH</code>. The cursor position can be before the first row of the query result, on any particular row of the result, or after the last row of the result. When created, a cursor is positioned before the first row. After fetching some rows, the cursor is positioned on the row most recently retrieved. If <code class="command">FETCH</code> runs off the end of the available rows then the cursor is left positioned after the last row, or before the first row if fetching backward. <code class="command">FETCH ALL</code> or <code class="command">FETCH BACKWARD ALL</code> will always leave the cursor positioned after the last row or before the first row.</p>
    <p>The forms <code class="literal">NEXT</code>, <code class="literal">PRIOR</code>, <code class="literal">FIRST</code>, <code class="literal">LAST</code>, <code class="literal">ABSOLUTE</code>, <code class="literal">RELATIVE</code> fetch a single row after moving the cursor appropriately. If there is no such row, an empty result is returned, and the cursor is left positioned before the first row or after the last row as appropriate.</p>
    <p>The forms using <code class="literal">FORWARD</code> and <code class="literal">BACKWARD</code> retrieve the indicated number of rows moving in the forward or backward direction, leaving the cursor positioned on the last-returned row (or after/before all rows, if the <em class="replaceable"><code>count</code></em> exceeds the number of rows available).</p>
    <p><code class="literal">RELATIVE 0</code>, <code class="literal">FORWARD 0</code>, and <code class="literal">BACKWARD 0</code> all request fetching the current row without moving the cursor, that is, re-fetching the most recently fetched row. This will succeed unless the cursor is positioned before the first row or after the last row; in which case, no row is returned.</p>
    <div class="note">
      <h3 class="title">Note</h3>
      <p>This page describes usage of cursors at the SQL command level. If you are trying to use cursors inside a <span class="application">PL/pgSQL</span> function, the rules are different — see <a class="xref" href="plpgsql-cursors.html#PLPGSQL-CURSOR-USING" title="42.7.3.&nbsp;Using Cursors">Section&nbsp;42.7.3</a>.</p>
    </div>
  </div>
  <div class="refsect1" id="id-1.9.3.149.7">
    <h2>Parameters</h2>
    <div class="variablelist">
      <dl class="variablelist">
        <dt><span class="term"><em class="replaceable"><code>direction</code></em></span></dt>
        <dd>
          <p><em class="replaceable"><code>direction</code></em> defines the fetch direction and number of rows to fetch. It can be one of the following:</p>
          <div class="variablelist">
            <dl class="variablelist">
              <dt><span class="term"><code class="literal">NEXT</code></span></dt>
              <dd>
                <p>Fetch the next row. This is the default if <em class="replaceable"><code>direction</code></em> is omitted.</p>
              </dd>
              <dt><span class="term"><code class="literal">PRIOR</code></span></dt>
              <dd>
                <p>Fetch the prior row.</p>
              </dd>
              <dt><span class="term"><code class="literal">FIRST</code></span></dt>
              <dd>
                <p>Fetch the first row of the query (same as <code class="literal">ABSOLUTE 1</code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">LAST</code></span></dt>
              <dd>
                <p>Fetch the last row of the query (same as <code class="literal">ABSOLUTE -1</code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">ABSOLUTE <em class="replaceable"><code>count</code></em></code></span></dt>
              <dd>
                <p>Fetch the <em class="replaceable"><code>count</code></em>'th row of the query, or the <code class="literal">abs(<em class="replaceable"><code>count</code></em>)</code>'th row from the end if <em class="replaceable"><code>count</code></em> is negative. Position before first row or after last row if <em class="replaceable"><code>count</code></em> is out of range; in particular, <code class="literal">ABSOLUTE 0</code> positions before the first row.</p>
              </dd>
              <dt><span class="term"><code class="literal">RELATIVE <em class="replaceable"><code>count</code></em></code></span></dt>
              <dd>
                <p>Fetch the <em class="replaceable"><code>count</code></em>'th succeeding row, or the <code class="literal">abs(<em class="replaceable"><code>count</code></em>)</code>'th prior row if <em class="replaceable"><code>count</code></em> is negative. <code class="literal">RELATIVE 0</code> re-fetches the current row, if any.</p>
              </dd>
              <dt><span class="term"><em class="replaceable"><code>count</code></em></span></dt>
              <dd>
                <p>Fetch the next <em class="replaceable"><code>count</code></em> rows (same as <code class="literal">FORWARD <em class="replaceable"><code>count</code></em></code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">ALL</code></span></dt>
              <dd>
                <p>Fetch all remaining rows (same as <code class="literal">FORWARD ALL</code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">FORWARD</code></span></dt>
              <dd>
                <p>Fetch the next row (same as <code class="literal">NEXT</code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">FORWARD <em class="replaceable"><code>count</code></em></code></span></dt>
              <dd>
                <p>Fetch the next <em class="replaceable"><code>count</code></em> rows. <code class="literal">FORWARD 0</code> re-fetches the current row.</p>
              </dd>
              <dt><span class="term"><code class="literal">FORWARD ALL</code></span></dt>
              <dd>
                <p>Fetch all remaining rows.</p>
              </dd>
              <dt><span class="term"><code class="literal">BACKWARD</code></span></dt>
              <dd>
                <p>Fetch the prior row (same as <code class="literal">PRIOR</code>).</p>
              </dd>
              <dt><span class="term"><code class="literal">BACKWARD <em class="replaceable"><code>count</code></em></code></span></dt>
              <dd>
                <p>Fetch the prior <em class="replaceable"><code>count</code></em> rows (scanning backwards). <code class="literal">BACKWARD 0</code> re-fetches the current row.</p>
              </dd>
              <dt><span class="term"><code class="literal">BACKWARD ALL</code></span></dt>
              <dd>
                <p>Fetch all prior rows (scanning backwards).</p>
              </dd>
            </dl>
          </div>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>count</code></em></span></dt>
        <dd>
          <p><em class="replaceable"><code>count</code></em> is a possibly-signed integer constant, determining the location or number of rows to fetch. For <code class="literal">FORWARD</code> and <code class="literal">BACKWARD</code> cases, specifying a negative <em class="replaceable"><code>count</code></em> is equivalent to changing the sense of <code class="literal">FORWARD</code> and <code class="literal">BACKWARD</code>.</p>
        </dd>
        <dt><span class="term"><em class="replaceable"><code>cursor_name</code></em></span></dt>
        <dd>
          <p>An open cursor's name.</p>
        </dd>
      </dl>
    </div>
  </div>
  <div class="refsect1" id="id-1.9.3.149.8">
    <h2>Outputs</h2>
    <p>On successful completion, a <code class="command">FETCH</code> command returns a command tag of the form</p>
    <pre class="screen">
FETCH <em class="replaceable"><code>count</code></em>
</pre>
    <p>The <em class="replaceable"><code>count</code></em> is the number of rows fetched (possibly zero). Note that in <span class="application">psql</span>, the command tag will not actually be displayed, since <span class="application">psql</span> displays the fetched rows instead.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.149.9">
    <h2>Notes</h2>
    <p>The cursor should be declared with the <code class="literal">SCROLL</code> option if one intends to use any variants of <code class="command">FETCH</code> other than <code class="command">FETCH NEXT</code> or <code class="command">FETCH FORWARD</code> with a positive count. For simple queries <span class="productname">PostgreSQL</span> will allow backwards fetch from cursors not declared with <code class="literal">SCROLL</code>, but this behavior is best not relied on. If the cursor is declared with <code class="literal">NO SCROLL</code>, no backward fetches are allowed.</p>
    <p><code class="literal">ABSOLUTE</code> fetches are not any faster than navigating to the desired row with a relative move: the underlying implementation must traverse all the intermediate rows anyway. Negative absolute fetches are even worse: the query must be read to the end to find the last row, and then traversed backward from there. However, rewinding to the start of the query (as with <code class="literal">FETCH ABSOLUTE 0</code>) is fast.</p>
    <p><a class="xref" href="sql-declare.html" title="DECLARE"><span class="refentrytitle">DECLARE</span></a> is used to define a cursor. Use <a class="xref" href="sql-move.html" title="MOVE"><span class="refentrytitle">MOVE</span></a> to change cursor position without retrieving data.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.149.10">
    <h2>Examples</h2>
    <p>The following example traverses a table using a cursor:</p>
    <pre class="programlisting">
BEGIN WORK;

-- Set up a cursor:
DECLARE liahona SCROLL CURSOR FOR SELECT * FROM films;

-- Fetch the first 5 rows in the cursor liahona:
FETCH FORWARD 5 FROM liahona;

 code  |          title          | did | date_prod  |   kind   |  len
-------+-------------------------+-----+------------+----------+-------
 BL101 | The Third Man           | 101 | 1949-12-23 | Drama    | 01:44
 BL102 | The African Queen       | 101 | 1951-08-11 | Romantic | 01:43
 JL201 | Une Femme est une Femme | 102 | 1961-03-12 | Romantic | 01:25
 P_301 | Vertigo                 | 103 | 1958-11-14 | Action   | 02:08
 P_302 | Becket                  | 103 | 1964-02-03 | Drama    | 02:28

-- Fetch the previous row:
FETCH PRIOR FROM liahona;

 code  |  title  | did | date_prod  |  kind  |  len
-------+---------+-----+------------+--------+-------
 P_301 | Vertigo | 103 | 1958-11-14 | Action | 02:08

-- Close the cursor and end the transaction:
CLOSE liahona;
COMMIT WORK;
</pre>
  </div>
  <div class="refsect1" id="id-1.9.3.149.11">
    <h2>Compatibility</h2>
    <p>The SQL standard defines <code class="command">FETCH</code> for use in embedded SQL only. The variant of <code class="command">FETCH</code> described here returns the data as if it were a <code class="command">SELECT</code> result rather than placing it in host variables. Other than this point, <code class="command">FETCH</code> is fully upward-compatible with the SQL standard.</p>
    <p>The <code class="command">FETCH</code> forms involving <code class="literal">FORWARD</code> and <code class="literal">BACKWARD</code>, as well as the forms <code class="literal">FETCH <em class="replaceable"><code>count</code></em></code> and <code class="literal">FETCH ALL</code>, in which <code class="literal">FORWARD</code> is implicit, are <span class="productname">PostgreSQL</span> extensions.</p>
    <p>The SQL standard allows only <code class="literal">FROM</code> preceding the cursor name; the option to use <code class="literal">IN</code>, or to leave them out altogether, is an extension.</p>
  </div>
  <div class="refsect1" id="id-1.9.3.149.12">
    <h2>See Also</h2><span class="simplelist"><a class="xref" href="sql-close.html" title="CLOSE"><span class="refentrytitle">CLOSE</span></a>, <a class="xref" href="sql-declare.html" title="DECLARE"><span class="refentrytitle">DECLARE</span></a>, <a class="xref" href="sql-move.html" title="MOVE"><span class="refentrytitle">MOVE</span></a></span>
  </div>
</div>
<div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter">
  <hr />
  <table width="100%" summary="Navigation footer">
    <tr>
      <td width="40%" align="left"><a accesskey="p" href="sql-explain.html" title="EXPLAIN">Prev</a>&nbsp;</td>
      <td width="20%" align="center"><a accesskey="u" href="sql-commands.html" title="SQL Commands">Up</a></td>
      <td width="40%" align="right">&nbsp;<a accesskey="n" href="sql-grant.html" title="GRANT">Next</a></td>
    </tr>
    <tr>
      <td width="40%" align="left" valign="top">EXPLAIN&nbsp;</td>
      <td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 13.20 Documentation">Home</a></td>
      <td width="40%" align="right" valign="top">&nbsp;GRANT</td>
    </tr>
  </table>
</div>

          </div>
          
            <div id="docComments">
              <h2>Submit correction</h2>
              <p>
              If you see anything in the documentation that is not correct, does not match
              your experience with the particular feature or requires further clarification,
              please use
              <a href="/account/comments/new/13/sql-fetch.html/" rel="nofollow">this form</a>
              to report a documentation issue.
              </p>
            </div>
          
        </div> 
      </div>
    </div>
    
    
    
    
    
    
  </body>
</html>
